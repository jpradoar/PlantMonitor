{"version":3,"sources":["../../src/libs/interact.js"],"names":["f","exports","module","define","amd","g","window","global","self","interact","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","init","_classCallCheck","instance","Constructor","TypeError","extend","fireUntilImmediateStopped","event","listeners","_i","_ref","listener","immediatePropagationStopped","Eventable","options","prototype","fire","onEvent","type","propagationStopped","on","eventType","push","off","eventList","index","indexOf","splice","undefined","getOriginXY","defaults","signals","new","InteractEvent","interaction","action","phase","element","related","preEnd","arguments","target","deltaSource","origin","starting","ending","coords","startCoords","curCoords","prevEvent","page","client","x","y","ctrlKey","altKey","shiftKey","metaKey","button","buttons","currentTarget","relatedTarget","interactable","t0","downTimes","signalArg","iEvent","pageX","pageY","clientX","clientY","x0","y0","clientX0","clientY0","timeStamp","dt","pointerDelta","duration","speed","velocityX","vx","velocityY","vy","swipe","getSwipe","angle","Math","atan2","PI","overlap","left","up","right","down","velocity","preventDefault","stopImmediatePropagation","stopPropagation","dx","dy","clone","is","events","actions","scope","_require","getElementRect","nodeContains","trySelector","matchesSelector","_require2","getWindow","_require3","contains","_require4","wheelEvent","interactables","Interactable","_context","context","document","_win","_doc","win","addDocument","set","setOnEvents","phases","onAction","function","onstart","onmove","onend","oninertiastart","setPerAction","option","object","perAction","enabled","bool","getRect","string","querySelector","rectChecker","checker","_backCompatOption","optionName","newValue","names","inContext","ownerDocument","_onOffMultiple","method","search","trim","split","array","_i2","_ref2","prop","eventTypes","addDelegate","add","removeDelegate","remove","base","perActions","actionName","methodDict","methodName","_i3","settingsMethods","_ref3","setting","unset","delegatedEvents","delegated","selectors","contexts","delegateListener","delegateUseCapture","_i4","interactions","_ref4","interacting","_ending","stop","indexOfElement","get","interactableGet","dontCheckInContext","ret","forEachMatch","callback","_i5","_ref5","utils","browser","domObjects","finder","methodNames","prevTouchTime","Interaction","pointerType","prepared","name","axis","edges","pointers","pointerIds","downTargets","prevCoords","downEvent","downPointer","_eventTarget","_curEventTarget","pointerIsDown","pointerWasMoved","_interacting","pointerDown","pointer","eventTarget","pointerIndex","updatePointer","start","copyAction","pointerMove","simulation","setCoords","duplicateMove","hypot","pointerMoveTolerance","getPointerIndex","duplicate","interactingBeforeMove","setCoordDeltas","doMove","copyCoords","_dontFireMove","pointerUp","curEventTarget","test","end","removePointer","currentAction","getPointerId","id","pointerId","_updateEventTargets","doOnInteractions","getPointerType","_utils$getEventTarget","getEventTargets","matches","supportsTouch","Date","getTime","changedTouches","changedTouch","invalidPointer","supportsPointerEvent","_interaction","_pointer","_interaction2","endAll","docEvents","pEventTypes","PointerEvent","move","cancel","mousedown","mousemove","mouseup","touchstart","touchmove","touchend","touchcancel","blur","onDocSignal","signalName","doc","eventMethod","_eventType","isIOS","passive","_ref6","pointerExtend","endAllInteractions","firePrepared","newEvent","defaultOptions","drag","mouseButtons","snap","restrict","inertia","autoScroll","startAxis","lockAxis","dragOptions","getCursor","abs","draggable","ondragstart","ondragend","merge","drop","accept","dynamicDrop","activeDrops","dropzones","elements","rects","dropEvents","setActiveDrops","dragEvent","getDropEvents","activate","fireActiveDrops","draggableElement","dropResult","getDrop","dropTarget","dropzone","dropElement","fireDropEvents","collectDrops","drops","current","dropElements","querySelectorAll","_ref7","currentElement","prevElement","dragElement","possibleDrops","validDrops","j","rect","dropCheck","dropIndex","indexOfDeepestElement","pointerEvent","enter","leave","deactivate","tmpl","prevDropElement","prevDropTarget","dragLeave","prevDropzone","dragEnter","dragmove","ondrop","ondropactivate","ondropdeactivate","ondragenter","ondragleave","ondropmove","number","max","min","dropped","dropOverlap","getPageXY","horizontal","vertical","top","bottom","dragRect","cx","width","cy","height","overlapArea","overlapRatio","_ref8","_ref9","gesture","ds","startDistance","prevDistance","distance","startAngle","prevAngle","scale","Infinity","isNaN","gesturable","ongesturestart","ongestureend","touches","touchDistance","box","touchBBox","touchAngle","da","prevScale","defaultMargin","resize","square","preserveAspectRatio","margin","NaN","invert","resizeOptions","resizeEdges","edge","checkResizeEdge","axes","cursors","isIe9","xy","topleft","bottomright","topright","bottomleft","cursorKey","edgeNames","startRect","linkedEdges","_linkedEdges","resizeStartAspectRatio","resizeRects","inverted","previous","delta","deltaRect","invertible","originalEdges","startAspectRatio","swap","resizable","onresizestart","onresizeend","value","interactableElement","matchesUpTo","resizeAxes","raf","domUtils","container","isScrolling","prevTime","request","scroll","now","scrollBy","scrollLeft","scrollTop","check","onInteractionMove","innerWidth","innerHeight","getElementClientRect","warnOnce","getAction","defaultActionChecker","actionChecker","ignoreFrom","allowFrom","testIgnore","testAllow","testIgnoreAllow","styleCursor","autoStart","withinInteractionLimit","maxInteractions","manualStart","maxPerElement","setActionDefaults","validateAction","actionInfo","getActionInfo","prepare","arg","validateSelector","matchElements","len","match","matchElement","pushMatches","parentNode","documentElement","style","cursor","maxActions","activeInteractions","targetCount","targetElementCount","otherAction","absX","absY","targetOptions","currentAxis","getDraggable","checkStartAxis","thisAxis","hold","delay","autoStartHoldTimer","getHoldDuration","setTimeout","clearTimeout","resistance","minSpeed","endSpeed","allowResume","smoothEndDuration","modifiers","animationFrame","inertiaStatus","active","smoothEnd","startEvent","upCoords","xe","ye","sx","sy","vx0","vys","lambda_v0","one_ve_v0","boundInertiaFrame","inertiaFrame","apply","boundSmoothEndFrame","smoothEndFrame","status","resumeEvent","resetStatuses","modifierStatuses","inertiaOptions","statuses","pointerSpeed","modifierResult","inertiaPossible","modifierArg","pageCoords","requireEndOnly","setAll","shouldMove","locked","vy0","v0","calcInertia","modifiedXe","modifiedYe","lambda","inertiaDur","log","te","updateInertiaCoords","progress","exp","quadPoint","getQuadraticCurvePoint","easeOutQuad","pageUp","clientUp","globalEvents","isSet","debug","getPointerAverage","pointerAverage","getTouchBBox","getTouchDistance","getTouchAngle","closest","removeDocument","checkAndPreventDefault","supportsPassive","onInteractionEvent","_arr","eventSignal","dragstart","preventNativeDrag","setOffsets","startOffset","modifierName","modifierOffsets","setOffset","result","changed","modifiedCoords","modifier","shouldDo","offset","modifiedX","modifiedY","beforeMove","setXY","modifyCoords","endOnly","restriction","elementRect","useStatusXY","getRestrictionRect","resolveRectLike","rectUtils","noInner","noOuter","restrictEdges","inner","xywhToTlbr","outer","noMin","noMax","restrictSize","minSize","tlbrToXywh","maxSize","range","targets","offsets","relativePoints","optionsOrigin","rectToXY","snapOffset","offsetRect","relativeX","relativeY","realX","realY","offsetX","offsetY","snapTarget","inRange","snapChanged","createSnapGrid","grid","limits","gridx","round","gridy","newX","newY","snapSize","pointerUtils","originalEvent","interval","tapTime","double","prevTap","subtractOrigin","originX","originY","addOrigin","simpleSignals","simpleEvents","pointerEvents","collectEventTargets","holdDuration","types","_arg$type","_arg$targets","_arg$pointerEvent","props","eventable","path","getPath","filter","holdTimers","timeout","timer","minDuration","_ref11","createSignalListener","_ref10","onNew","onFired","signal","endHoldRepeat","count","holdRepeatInterval","holdIntervalHandle","clearInterval","__backCompatOption","documents","onWindowUnload","Signals","targetListeners","source","item","Element","navigator","DocumentTouch","platform","isIOS7","appVersion","userAgent","prefixedMatchesSelector","MSPointerEvent","over","out","isOperaMobile","appName","dest","plainObject","blank","DocumentFragment","SVGElement","SVGSVGElement","SVGElementInstance","HTMLElement","Event","Touch","parent","child","selector","node","docFrag","host","realWindow","replace","deepestZoneParents","dropzoneParents","deepestZone","unshift","ownerSVGElement","parents","lastChild","previousSibling","limit","getActualElement","correspondingUseElement","getScrollXY","relevantWindow","scrollX","scrollY","clientRect","getBoundingClientRect","getClientRects","pExtend","supportsOptions","supported","createElement","addEventListener","capture","optionalArg","getOptions","elementIndex","typeCount","hasOwnProperty","removeEventListener","matchFound","_listeners$i","fn","fakeEvent","_pointerUtils$getEven","preventOriginalDefault","_listeners$j","param","_elements","_targets","actionOptions","actionOrigin","originRect","sqrt","message","warned","console","warn","_getQBezierValue","p1","p2","p3","iT","startX","startY","cpX","cpY","endX","endY","position","b","c","d","src","methodOrder","details","simulationResume","mouseOrPen","firstNonActive","hasPointer","idle","_i6","_typeof","Symbol","iterator","obj","constructor","isWindow","thing","nodeType","_function","_window","nodeName","Window","prefixedPropREs","deprecated","vendor","webkit","dom","targetObj","prev","cur","isNativePointer","getXY","getClientXY","identifier","tmpXY","getTouchPair","average","screenX","screenY","_prop","minX","minY","maxX","maxY","sourceX","sourceY","composedPath","vendors","lastTime","requestAnimationFrame","currTime","timeToCall","getStringOptionResult","functionArgs","el","createTextNode","wrap","rootNode","defaultView","parentWindow"],"mappings":"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","sourcesContent":["/**\n * interact.js v1.3.4\n *\n * Copyright (c) 2012-2018 Taye Adeyemi <dev@taye.me>\n * Released under the MIT License.\n * https://raw.github.com/taye/interact.js/master/LICENSE\n */\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.interact = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\n/*\n * In a (windowless) server environment this file exports a factory function\n * that takes the window to use.\n *\n *     var interact = require('interact.js')(windowObject);\n *\n * See https://github.com/taye/interact.js/issues/187\n */\nif (typeof window === 'undefined') {\n  module.exports = function (window) {\n    require('./src/utils/window').init(window);\n\n    return require('./src/index');\n  };\n} else {\n  module.exports = require('./src/index');\n}\n\n},{\"./src/index\":19,\"./src/utils/window\":52}],2:[function(require,module,exports){\n'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar extend = require('./utils/extend.js');\n\nfunction fireUntilImmediateStopped(event, listeners) {\n  for (var _i = 0; _i < listeners.length; _i++) {\n    var _ref;\n\n    _ref = listeners[_i];\n    var listener = _ref;\n\n    if (event.immediatePropagationStopped) {\n      break;\n    }\n\n    listener(event);\n  }\n}\n\nvar Eventable = function () {\n  function Eventable(options) {\n    _classCallCheck(this, Eventable);\n\n    this.options = extend({}, options || {});\n  }\n\n  Eventable.prototype.fire = function fire(event) {\n    var listeners = void 0;\n    var onEvent = 'on' + event.type;\n    var global = this.global;\n\n    // Interactable#on() listeners\n    if (listeners = this[event.type]) {\n      fireUntilImmediateStopped(event, listeners);\n    }\n\n    // interactable.onevent listener\n    if (this[onEvent]) {\n      this[onEvent](event);\n    }\n\n    // interact.on() listeners\n    if (!event.propagationStopped && global && (listeners = global[event.type])) {\n      fireUntilImmediateStopped(event, listeners);\n    }\n  };\n\n  Eventable.prototype.on = function on(eventType, listener) {\n    // if this type of event was never bound\n    if (this[eventType]) {\n      this[eventType].push(listener);\n    } else {\n      this[eventType] = [listener];\n    }\n  };\n\n  Eventable.prototype.off = function off(eventType, listener) {\n    // if it is an action event type\n    var eventList = this[eventType];\n    var index = eventList ? eventList.indexOf(listener) : -1;\n\n    if (index !== -1) {\n      eventList.splice(index, 1);\n    }\n\n    if (eventList && eventList.length === 0 || !listener) {\n      this[eventType] = undefined;\n    }\n  };\n\n  return Eventable;\n}();\n\nmodule.exports = Eventable;\n\n},{\"./utils/extend.js\":41}],3:[function(require,module,exports){\n'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar extend = require('./utils/extend');\nvar getOriginXY = require('./utils/getOriginXY');\nvar defaults = require('./defaultOptions');\nvar signals = require('./utils/Signals').new();\n\nvar InteractEvent = function () {\n  /** */\n  function InteractEvent(interaction, event, action, phase, element, related) {\n    var preEnd = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : false;\n\n    _classCallCheck(this, InteractEvent);\n\n    var target = interaction.target;\n    var deltaSource = (target && target.options || defaults).deltaSource;\n    var origin = getOriginXY(target, element, action);\n    var starting = phase === 'start';\n    var ending = phase === 'end';\n    var coords = starting ? interaction.startCoords : interaction.curCoords;\n    var prevEvent = interaction.prevEvent;\n\n    element = element || interaction.element;\n\n    var page = extend({}, coords.page);\n    var client = extend({}, coords.client);\n\n    page.x -= origin.x;\n    page.y -= origin.y;\n\n    client.x -= origin.x;\n    client.y -= origin.y;\n\n    this.ctrlKey = event.ctrlKey;\n    this.altKey = event.altKey;\n    this.shiftKey = event.shiftKey;\n    this.metaKey = event.metaKey;\n    this.button = event.button;\n    this.buttons = event.buttons;\n    this.target = element;\n    this.currentTarget = element;\n    this.relatedTarget = related || null;\n    this.preEnd = preEnd;\n    this.type = action + (phase || '');\n    this.interaction = interaction;\n    this.interactable = target;\n\n    this.t0 = starting ? interaction.downTimes[interaction.downTimes.length - 1] : prevEvent.t0;\n\n    var signalArg = {\n      interaction: interaction,\n      event: event,\n      action: action,\n      phase: phase,\n      element: element,\n      related: related,\n      page: page,\n      client: client,\n      coords: coords,\n      starting: starting,\n      ending: ending,\n      deltaSource: deltaSource,\n      iEvent: this\n    };\n\n    signals.fire('set-xy', signalArg);\n\n    if (ending) {\n      // use previous coords when ending\n      this.pageX = prevEvent.pageX;\n      this.pageY = prevEvent.pageY;\n      this.clientX = prevEvent.clientX;\n      this.clientY = prevEvent.clientY;\n    } else {\n      this.pageX = page.x;\n      this.pageY = page.y;\n      this.clientX = client.x;\n      this.clientY = client.y;\n    }\n\n    this.x0 = interaction.startCoords.page.x - origin.x;\n    this.y0 = interaction.startCoords.page.y - origin.y;\n    this.clientX0 = interaction.startCoords.client.x - origin.x;\n    this.clientY0 = interaction.startCoords.client.y - origin.y;\n\n    signals.fire('set-delta', signalArg);\n\n    this.timeStamp = coords.timeStamp;\n    this.dt = interaction.pointerDelta.timeStamp;\n    this.duration = this.timeStamp - this.t0;\n\n    // speed and velocity in pixels per second\n    this.speed = interaction.pointerDelta[deltaSource].speed;\n    this.velocityX = interaction.pointerDelta[deltaSource].vx;\n    this.velocityY = interaction.pointerDelta[deltaSource].vy;\n\n    this.swipe = ending || phase === 'inertiastart' ? this.getSwipe() : null;\n\n    signals.fire('new', signalArg);\n  }\n\n  InteractEvent.prototype.getSwipe = function getSwipe() {\n    var interaction = this.interaction;\n\n    if (interaction.prevEvent.speed < 600 || this.timeStamp - interaction.prevEvent.timeStamp > 150) {\n      return null;\n    }\n\n    var angle = 180 * Math.atan2(interaction.prevEvent.velocityY, interaction.prevEvent.velocityX) / Math.PI;\n    var overlap = 22.5;\n\n    if (angle < 0) {\n      angle += 360;\n    }\n\n    var left = 135 - overlap <= angle && angle < 225 + overlap;\n    var up = 225 - overlap <= angle && angle < 315 + overlap;\n\n    var right = !left && (315 - overlap <= angle || angle < 45 + overlap);\n    var down = !up && 45 - overlap <= angle && angle < 135 + overlap;\n\n    return {\n      up: up,\n      down: down,\n      left: left,\n      right: right,\n      angle: angle,\n      speed: interaction.prevEvent.speed,\n      velocity: {\n        x: interaction.prevEvent.velocityX,\n        y: interaction.prevEvent.velocityY\n      }\n    };\n  };\n\n  InteractEvent.prototype.preventDefault = function preventDefault() {};\n\n  /** */\n\n\n  InteractEvent.prototype.stopImmediatePropagation = function stopImmediatePropagation() {\n    this.immediatePropagationStopped = this.propagationStopped = true;\n  };\n\n  /** */\n\n\n  InteractEvent.prototype.stopPropagation = function stopPropagation() {\n    this.propagationStopped = true;\n  };\n\n  return InteractEvent;\n}();\n\nsignals.on('set-delta', function (_ref) {\n  var iEvent = _ref.iEvent,\n      interaction = _ref.interaction,\n      starting = _ref.starting,\n      deltaSource = _ref.deltaSource;\n\n  var prevEvent = starting ? iEvent : interaction.prevEvent;\n\n  if (deltaSource === 'client') {\n    iEvent.dx = iEvent.clientX - prevEvent.clientX;\n    iEvent.dy = iEvent.clientY - prevEvent.clientY;\n  } else {\n    iEvent.dx = iEvent.pageX - prevEvent.pageX;\n    iEvent.dy = iEvent.pageY - prevEvent.pageY;\n  }\n});\n\nInteractEvent.signals = signals;\n\nmodule.exports = InteractEvent;\n\n},{\"./defaultOptions\":18,\"./utils/Signals\":34,\"./utils/extend\":41,\"./utils/getOriginXY\":42}],4:[function(require,module,exports){\n'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar clone = require('./utils/clone');\nvar is = require('./utils/is');\nvar events = require('./utils/events');\nvar extend = require('./utils/extend');\nvar actions = require('./actions/base');\nvar scope = require('./scope');\nvar Eventable = require('./Eventable');\nvar defaults = require('./defaultOptions');\nvar signals = require('./utils/Signals').new();\n\nvar _require = require('./utils/domUtils'),\n    getElementRect = _require.getElementRect,\n    nodeContains = _require.nodeContains,\n    trySelector = _require.trySelector,\n    matchesSelector = _require.matchesSelector;\n\nvar _require2 = require('./utils/window'),\n    getWindow = _require2.getWindow;\n\nvar _require3 = require('./utils/arr'),\n    contains = _require3.contains;\n\nvar _require4 = require('./utils/browser'),\n    wheelEvent = _require4.wheelEvent;\n\n// all set interactables\n\n\nscope.interactables = [];\n\nvar Interactable = function () {\n  /** */\n  function Interactable(target, options) {\n    _classCallCheck(this, Interactable);\n\n    options = options || {};\n\n    this.target = target;\n    this.events = new Eventable();\n    this._context = options.context || scope.document;\n    this._win = getWindow(trySelector(target) ? this._context : target);\n    this._doc = this._win.document;\n\n    signals.fire('new', {\n      target: target,\n      options: options,\n      interactable: this,\n      win: this._win\n    });\n\n    scope.addDocument(this._doc, this._win);\n\n    scope.interactables.push(this);\n\n    this.set(options);\n  }\n\n  Interactable.prototype.setOnEvents = function setOnEvents(action, phases) {\n    var onAction = 'on' + action;\n\n    if (is.function(phases.onstart)) {\n      this.events[onAction + 'start'] = phases.onstart;\n    }\n    if (is.function(phases.onmove)) {\n      this.events[onAction + 'move'] = phases.onmove;\n    }\n    if (is.function(phases.onend)) {\n      this.events[onAction + 'end'] = phases.onend;\n    }\n    if (is.function(phases.oninertiastart)) {\n      this.events[onAction + 'inertiastart'] = phases.oninertiastart;\n    }\n\n    return this;\n  };\n\n  Interactable.prototype.setPerAction = function setPerAction(action, options) {\n    // for all the default per-action options\n    for (var option in options) {\n      // if this option exists for this action\n      if (option in defaults[action]) {\n        // if the option in the options arg is an object value\n        if (is.object(options[option])) {\n          // duplicate the object and merge\n          this.options[action][option] = clone(this.options[action][option] || {});\n          extend(this.options[action][option], options[option]);\n\n          if (is.object(defaults.perAction[option]) && 'enabled' in defaults.perAction[option]) {\n            this.options[action][option].enabled = options[option].enabled === false ? false : true;\n          }\n        } else if (is.bool(options[option]) && is.object(defaults.perAction[option])) {\n          this.options[action][option].enabled = options[option];\n        } else if (options[option] !== undefined) {\n          // or if it's not undefined, do a plain assignment\n          this.options[action][option] = options[option];\n        }\n      }\n    }\n  };\n\n  /**\n   * The default function to get an Interactables bounding rect. Can be\n   * overridden using {@link Interactable.rectChecker}.\n   *\n   * @param {Element} [element] The element to measure.\n   * @return {object} The object's bounding rectangle.\n   */\n\n\n  Interactable.prototype.getRect = function getRect(element) {\n    element = element || this.target;\n\n    if (is.string(this.target) && !is.element(element)) {\n      element = this._context.querySelector(this.target);\n    }\n\n    return getElementRect(element);\n  };\n\n  /**\n   * Returns or sets the function used to calculate the interactable's\n   * element's rectangle\n   *\n   * @param {function} [checker] A function which returns this Interactable's\n   * bounding rectangle. See {@link Interactable.getRect}\n   * @return {function | object} The checker function or this Interactable\n   */\n\n\n  Interactable.prototype.rectChecker = function rectChecker(checker) {\n    if (is.function(checker)) {\n      this.getRect = checker;\n\n      return this;\n    }\n\n    if (checker === null) {\n      delete this.options.getRect;\n\n      return this;\n    }\n\n    return this.getRect;\n  };\n\n  Interactable.prototype._backCompatOption = function _backCompatOption(optionName, newValue) {\n    if (trySelector(newValue) || is.object(newValue)) {\n      this.options[optionName] = newValue;\n\n      for (var _i = 0; _i < actions.names.length; _i++) {\n        var _ref;\n\n        _ref = actions.names[_i];\n        var action = _ref;\n\n        this.options[action][optionName] = newValue;\n      }\n\n      return this;\n    }\n\n    return this.options[optionName];\n  };\n\n  /**\n   * Gets or sets the origin of the Interactable's element.  The x and y\n   * of the origin will be subtracted from action event coordinates.\n   *\n   * @param {Element | object | string} [origin] An HTML or SVG Element whose\n   * rect will be used, an object eg. { x: 0, y: 0 } or string 'parent', 'self'\n   * or any CSS selector\n   *\n   * @return {object} The current origin or this Interactable\n   */\n\n\n  Interactable.prototype.origin = function origin(newValue) {\n    return this._backCompatOption('origin', newValue);\n  };\n\n  /**\n   * Returns or sets the mouse coordinate types used to calculate the\n   * movement of the pointer.\n   *\n   * @param {string} [newValue] Use 'client' if you will be scrolling while\n   * interacting; Use 'page' if you want autoScroll to work\n   * @return {string | object} The current deltaSource or this Interactable\n   */\n\n\n  Interactable.prototype.deltaSource = function deltaSource(newValue) {\n    if (newValue === 'page' || newValue === 'client') {\n      this.options.deltaSource = newValue;\n\n      return this;\n    }\n\n    return this.options.deltaSource;\n  };\n\n  /**\n   * Gets the selector context Node of the Interactable. The default is\n   * `window.document`.\n   *\n   * @return {Node} The context Node of this Interactable\n   */\n\n\n  Interactable.prototype.context = function context() {\n    return this._context;\n  };\n\n  Interactable.prototype.inContext = function inContext(element) {\n    return this._context === element.ownerDocument || nodeContains(this._context, element);\n  };\n\n  /**\n   * Calls listeners for the given InteractEvent type bound globally\n   * and directly to this Interactable\n   *\n   * @param {InteractEvent} iEvent The InteractEvent object to be fired on this\n   * Interactable\n   * @return {Interactable} this Interactable\n   */\n\n\n  Interactable.prototype.fire = function fire(iEvent) {\n    this.events.fire(iEvent);\n\n    return this;\n  };\n\n  Interactable.prototype._onOffMultiple = function _onOffMultiple(method, eventType, listener, options) {\n    if (is.string(eventType) && eventType.search(' ') !== -1) {\n      eventType = eventType.trim().split(/ +/);\n    }\n\n    if (is.array(eventType)) {\n      for (var _i2 = 0; _i2 < eventType.length; _i2++) {\n        var _ref2;\n\n        _ref2 = eventType[_i2];\n        var type = _ref2;\n\n        this[method](type, listener, options);\n      }\n\n      return true;\n    }\n\n    if (is.object(eventType)) {\n      for (var prop in eventType) {\n        this[method](prop, eventType[prop], listener);\n      }\n\n      return true;\n    }\n  };\n\n  /**\n   * Binds a listener for an InteractEvent, pointerEvent or DOM event.\n   *\n   * @param {string | array | object} eventType  The types of events to listen\n   * for\n   * @param {function} listener   The function event (s)\n   * @param {object | boolean} [options]    options object or useCapture flag\n   * for addEventListener\n   * @return {object} This Interactable\n   */\n\n\n  Interactable.prototype.on = function on(eventType, listener, options) {\n    if (this._onOffMultiple('on', eventType, listener, options)) {\n      return this;\n    }\n\n    if (eventType === 'wheel') {\n      eventType = wheelEvent;\n    }\n\n    if (contains(Interactable.eventTypes, eventType)) {\n      this.events.on(eventType, listener);\n    }\n    // delegated event for selector\n    else if (is.string(this.target)) {\n        events.addDelegate(this.target, this._context, eventType, listener, options);\n      } else {\n        events.add(this.target, eventType, listener, options);\n      }\n\n    return this;\n  };\n\n  /**\n   * Removes an InteractEvent, pointerEvent or DOM event listener\n   *\n   * @param {string | array | object} eventType The types of events that were\n   * listened for\n   * @param {function} listener The listener function to be removed\n   * @param {object | boolean} [options] options object or useCapture flag for\n   * removeEventListener\n   * @return {object} This Interactable\n   */\n\n\n  Interactable.prototype.off = function off(eventType, listener, options) {\n    if (this._onOffMultiple('off', eventType, listener, options)) {\n      return this;\n    }\n\n    if (eventType === 'wheel') {\n      eventType = wheelEvent;\n    }\n\n    // if it is an action event type\n    if (contains(Interactable.eventTypes, eventType)) {\n      this.events.off(eventType, listener);\n    }\n    // delegated event\n    else if (is.string(this.target)) {\n        events.removeDelegate(this.target, this._context, eventType, listener, options);\n      }\n      // remove listener from this Interatable's element\n      else {\n          events.remove(this.target, eventType, listener, options);\n        }\n\n    return this;\n  };\n\n  /**\n   * Reset the options of this Interactable\n   *\n   * @param {object} options The new settings to apply\n   * @return {object} This Interactable\n   */\n\n\n  Interactable.prototype.set = function set(options) {\n    if (!is.object(options)) {\n      options = {};\n    }\n\n    this.options = clone(defaults.base);\n\n    var perActions = clone(defaults.perAction);\n\n    for (var actionName in actions.methodDict) {\n      var methodName = actions.methodDict[actionName];\n\n      this.options[actionName] = clone(defaults[actionName]);\n\n      this.setPerAction(actionName, perActions);\n\n      this[methodName](options[actionName]);\n    }\n\n    for (var _i3 = 0; _i3 < Interactable.settingsMethods.length; _i3++) {\n      var _ref3;\n\n      _ref3 = Interactable.settingsMethods[_i3];\n      var setting = _ref3;\n\n      this.options[setting] = defaults.base[setting];\n\n      if (setting in options) {\n        this[setting](options[setting]);\n      }\n    }\n\n    signals.fire('set', {\n      options: options,\n      interactable: this\n    });\n\n    return this;\n  };\n\n  /**\n   * Remove this interactable from the list of interactables and remove it's\n   * action capabilities and event listeners\n   *\n   * @return {interact}\n   */\n\n\n  Interactable.prototype.unset = function unset() {\n    events.remove(this.target, 'all');\n\n    if (is.string(this.target)) {\n      // remove delegated events\n      for (var type in events.delegatedEvents) {\n        var delegated = events.delegatedEvents[type];\n\n        if (delegated.selectors[0] === this.target && delegated.contexts[0] === this._context) {\n\n          delegated.selectors.splice(0, 1);\n          delegated.contexts.splice(0, 1);\n          delegated.listeners.splice(0, 1);\n\n          // remove the arrays if they are empty\n          if (!delegated.selectors.length) {\n            delegated[type] = null;\n          }\n        }\n\n        events.remove(this._context, type, events.delegateListener);\n        events.remove(this._context, type, events.delegateUseCapture, true);\n      }\n    } else {\n      events.remove(this, 'all');\n    }\n\n    signals.fire('unset', { interactable: this });\n\n    scope.interactables.splice(scope.interactables.indexOf(this), 1);\n\n    // Stop related interactions when an Interactable is unset\n    for (var _i4 = 0; _i4 < (scope.interactions || []).length; _i4++) {\n      var _ref4;\n\n      _ref4 = (scope.interactions || [])[_i4];\n      var interaction = _ref4;\n\n      if (interaction.target === this && interaction.interacting() && !interaction._ending) {\n        interaction.stop();\n      }\n    }\n\n    return scope.interact;\n  };\n\n  return Interactable;\n}();\n\nscope.interactables.indexOfElement = function indexOfElement(target, context) {\n  context = context || scope.document;\n\n  for (var i = 0; i < this.length; i++) {\n    var interactable = this[i];\n\n    if (interactable.target === target && interactable._context === context) {\n      return i;\n    }\n  }\n  return -1;\n};\n\nscope.interactables.get = function interactableGet(element, options, dontCheckInContext) {\n  var ret = this[this.indexOfElement(element, options && options.context)];\n\n  return ret && (is.string(element) || dontCheckInContext || ret.inContext(element)) ? ret : null;\n};\n\nscope.interactables.forEachMatch = function (element, callback) {\n  for (var _i5 = 0; _i5 < this.length; _i5++) {\n    var _ref5;\n\n    _ref5 = this[_i5];\n    var interactable = _ref5;\n\n    var ret = void 0;\n\n    if ((is.string(interactable.target)\n    // target is a selector and the element matches\n    ? is.element(element) && matchesSelector(element, interactable.target) :\n    // target is the element\n    element === interactable.target) &&\n    // the element is in context\n    interactable.inContext(element)) {\n      ret = callback(interactable);\n    }\n\n    if (ret !== undefined) {\n      return ret;\n    }\n  }\n};\n\n// all interact.js eventTypes\nInteractable.eventTypes = scope.eventTypes = [];\n\nInteractable.signals = signals;\n\nInteractable.settingsMethods = ['deltaSource', 'origin', 'preventDefault', 'rectChecker'];\n\nmodule.exports = Interactable;\n\n},{\"./Eventable\":2,\"./actions/base\":6,\"./defaultOptions\":18,\"./scope\":33,\"./utils/Signals\":34,\"./utils/arr\":35,\"./utils/browser\":36,\"./utils/clone\":37,\"./utils/domUtils\":39,\"./utils/events\":40,\"./utils/extend\":41,\"./utils/is\":46,\"./utils/window\":52}],5:[function(require,module,exports){\n'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar scope = require('./scope');\nvar utils = require('./utils');\nvar events = require('./utils/events');\nvar browser = require('./utils/browser');\nvar domObjects = require('./utils/domObjects');\nvar finder = require('./utils/interactionFinder');\nvar signals = require('./utils/Signals').new();\n\nvar listeners = {};\nvar methodNames = ['pointerDown', 'pointerMove', 'pointerUp', 'updatePointer', 'removePointer'];\n\n// for ignoring browser's simulated mouse events\nvar prevTouchTime = 0;\n\n// all active and idle interactions\nscope.interactions = [];\n\nvar Interaction = function () {\n  /** */\n  function Interaction(_ref) {\n    var pointerType = _ref.pointerType;\n\n    _classCallCheck(this, Interaction);\n\n    this.target = null; // current interactable being interacted with\n    this.element = null; // the target element of the interactable\n\n    this.prepared = { // action that's ready to be fired on next move event\n      name: null,\n      axis: null,\n      edges: null\n    };\n\n    // keep track of added pointers\n    this.pointers = [];\n    this.pointerIds = [];\n    this.downTargets = [];\n    this.downTimes = [];\n\n    // Previous native pointer move event coordinates\n    this.prevCoords = {\n      page: { x: 0, y: 0 },\n      client: { x: 0, y: 0 },\n      timeStamp: 0\n    };\n    // current native pointer move event coordinates\n    this.curCoords = {\n      page: { x: 0, y: 0 },\n      client: { x: 0, y: 0 },\n      timeStamp: 0\n    };\n\n    // Starting InteractEvent pointer coordinates\n    this.startCoords = {\n      page: { x: 0, y: 0 },\n      client: { x: 0, y: 0 },\n      timeStamp: 0\n    };\n\n    // Change in coordinates and time of the pointer\n    this.pointerDelta = {\n      page: { x: 0, y: 0, vx: 0, vy: 0, speed: 0 },\n      client: { x: 0, y: 0, vx: 0, vy: 0, speed: 0 },\n      timeStamp: 0\n    };\n\n    this.downEvent = null; // pointerdown/mousedown/touchstart event\n    this.downPointer = {};\n\n    this._eventTarget = null;\n    this._curEventTarget = null;\n\n    this.prevEvent = null; // previous action event\n\n    this.pointerIsDown = false;\n    this.pointerWasMoved = false;\n    this._interacting = false;\n    this._ending = false;\n\n    this.pointerType = pointerType;\n\n    signals.fire('new', this);\n\n    scope.interactions.push(this);\n  }\n\n  Interaction.prototype.pointerDown = function pointerDown(pointer, event, eventTarget) {\n    var pointerIndex = this.updatePointer(pointer, event, true);\n\n    signals.fire('down', {\n      pointer: pointer,\n      event: event,\n      eventTarget: eventTarget,\n      pointerIndex: pointerIndex,\n      interaction: this\n    });\n  };\n\n  /**\n   * ```js\n   * interact(target)\n   *   .draggable({\n   *     // disable the default drag start by down->move\n   *     manualStart: true\n   *   })\n   *   // start dragging after the user holds the pointer down\n   *   .on('hold', function (event) {\n   *     var interaction = event.interaction;\n   *\n   *     if (!interaction.interacting()) {\n   *       interaction.start({ name: 'drag' },\n   *                         event.interactable,\n   *                         event.currentTarget);\n   *     }\n   * });\n   * ```\n   *\n   * Start an action with the given Interactable and Element as tartgets. The\n   * action must be enabled for the target Interactable and an appropriate\n   * number of pointers must be held down - 1 for drag/resize, 2 for gesture.\n   *\n   * Use it with `interactable.<action>able({ manualStart: false })` to always\n   * [start actions manually](https://github.com/taye/interact.js/issues/114)\n   *\n   * @param {object} action   The action to be performed - drag, resize, etc.\n   * @param {Interactable} target  The Interactable to target\n   * @param {Element} element The DOM Element to target\n   * @return {object} interact\n   */\n\n\n  Interaction.prototype.start = function start(action, target, element) {\n    if (this.interacting() || !this.pointerIsDown || this.pointerIds.length < (action.name === 'gesture' ? 2 : 1)) {\n      return;\n    }\n\n    // if this interaction had been removed after stopping\n    // add it back\n    if (scope.interactions.indexOf(this) === -1) {\n      scope.interactions.push(this);\n    }\n\n    utils.copyAction(this.prepared, action);\n    this.target = target;\n    this.element = element;\n\n    signals.fire('action-start', {\n      interaction: this,\n      event: this.downEvent\n    });\n  };\n\n  Interaction.prototype.pointerMove = function pointerMove(pointer, event, eventTarget) {\n    if (!this.simulation) {\n      this.updatePointer(pointer);\n      utils.setCoords(this.curCoords, this.pointers);\n    }\n\n    var duplicateMove = this.curCoords.page.x === this.prevCoords.page.x && this.curCoords.page.y === this.prevCoords.page.y && this.curCoords.client.x === this.prevCoords.client.x && this.curCoords.client.y === this.prevCoords.client.y;\n\n    var dx = void 0;\n    var dy = void 0;\n\n    // register movement greater than pointerMoveTolerance\n    if (this.pointerIsDown && !this.pointerWasMoved) {\n      dx = this.curCoords.client.x - this.startCoords.client.x;\n      dy = this.curCoords.client.y - this.startCoords.client.y;\n\n      this.pointerWasMoved = utils.hypot(dx, dy) > Interaction.pointerMoveTolerance;\n    }\n\n    var signalArg = {\n      pointer: pointer,\n      pointerIndex: this.getPointerIndex(pointer),\n      event: event,\n      eventTarget: eventTarget,\n      dx: dx,\n      dy: dy,\n      duplicate: duplicateMove,\n      interaction: this,\n      interactingBeforeMove: this.interacting()\n    };\n\n    if (!duplicateMove) {\n      // set pointer coordinate, time changes and speeds\n      utils.setCoordDeltas(this.pointerDelta, this.prevCoords, this.curCoords);\n    }\n\n    signals.fire('move', signalArg);\n\n    if (!duplicateMove) {\n      // if interacting, fire an 'action-move' signal etc\n      if (this.interacting()) {\n        this.doMove(signalArg);\n      }\n\n      if (this.pointerWasMoved) {\n        utils.copyCoords(this.prevCoords, this.curCoords);\n      }\n    }\n  };\n\n  /**\n   * ```js\n   * interact(target)\n   *   .draggable(true)\n   *   .on('dragmove', function (event) {\n   *     if (someCondition) {\n   *       // change the snap settings\n   *       event.interactable.draggable({ snap: { targets: [] }});\n   *       // fire another move event with re-calculated snap\n   *       event.interaction.doMove();\n   *     }\n   *   });\n   * ```\n   *\n   * Force a move of the current action at the same coordinates. Useful if\n   * snap/restrict has been changed and you want a movement with the new\n   * settings.\n   */\n\n\n  Interaction.prototype.doMove = function doMove(signalArg) {\n    signalArg = utils.extend({\n      pointer: this.pointers[0],\n      event: this.prevEvent,\n      eventTarget: this._eventTarget,\n      interaction: this\n    }, signalArg || {});\n\n    signals.fire('before-action-move', signalArg);\n\n    if (!this._dontFireMove) {\n      signals.fire('action-move', signalArg);\n    }\n\n    this._dontFireMove = false;\n  };\n\n  // End interact move events and stop auto-scroll unless simulation is running\n\n\n  Interaction.prototype.pointerUp = function pointerUp(pointer, event, eventTarget, curEventTarget) {\n    var pointerIndex = this.getPointerIndex(pointer);\n\n    signals.fire(/cancel$/i.test(event.type) ? 'cancel' : 'up', {\n      pointer: pointer,\n      pointerIndex: pointerIndex,\n      event: event,\n      eventTarget: eventTarget,\n      curEventTarget: curEventTarget,\n      interaction: this\n    });\n\n    if (!this.simulation) {\n      this.end(event);\n    }\n\n    this.pointerIsDown = false;\n    this.removePointer(pointer, event);\n  };\n\n  /**\n   * ```js\n   * interact(target)\n   *   .draggable(true)\n   *   .on('move', function (event) {\n   *     if (event.pageX > 1000) {\n   *       // end the current action\n   *       event.interaction.end();\n   *       // stop all further listeners from being called\n   *       event.stopImmediatePropagation();\n   *     }\n   *   });\n   * ```\n   *\n   * Stop the current action and fire an end event. Inertial movement does\n   * not happen.\n   *\n   * @param {PointerEvent} [event]\n   */\n\n\n  Interaction.prototype.end = function end(event) {\n    this._ending = true;\n\n    event = event || this.prevEvent;\n\n    if (this.interacting()) {\n      signals.fire('action-end', {\n        event: event,\n        interaction: this\n      });\n    }\n\n    this.stop();\n    this._ending = false;\n  };\n\n  Interaction.prototype.currentAction = function currentAction() {\n    return this._interacting ? this.prepared.name : null;\n  };\n\n  Interaction.prototype.interacting = function interacting() {\n    return this._interacting;\n  };\n\n  /** */\n\n\n  Interaction.prototype.stop = function stop() {\n    signals.fire('stop', { interaction: this });\n\n    if (this._interacting) {\n      signals.fire('stop-active', { interaction: this });\n      signals.fire('stop-' + this.prepared.name, { interaction: this });\n    }\n\n    this.target = this.element = null;\n\n    this._interacting = false;\n    this.prepared.name = this.prevEvent = null;\n  };\n\n  Interaction.prototype.getPointerIndex = function getPointerIndex(pointer) {\n    // mouse and pen interactions may have only one pointer\n    if (this.pointerType === 'mouse' || this.pointerType === 'pen') {\n      return 0;\n    }\n\n    return this.pointerIds.indexOf(utils.getPointerId(pointer));\n  };\n\n  Interaction.prototype.updatePointer = function updatePointer(pointer, event) {\n    var down = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : event && /(down|start)$/i.test(event.type);\n\n    var id = utils.getPointerId(pointer);\n    var index = this.getPointerIndex(pointer);\n\n    if (index === -1) {\n      index = this.pointerIds.length;\n      this.pointerIds[index] = id;\n    }\n\n    if (down) {\n      signals.fire('update-pointer-down', {\n        pointer: pointer,\n        event: event,\n        down: down,\n        pointerId: id,\n        pointerIndex: index,\n        interaction: this\n      });\n    }\n\n    this.pointers[index] = pointer;\n\n    return index;\n  };\n\n  Interaction.prototype.removePointer = function removePointer(pointer, event) {\n    var index = this.getPointerIndex(pointer);\n\n    if (index === -1) {\n      return;\n    }\n\n    signals.fire('remove-pointer', {\n      pointer: pointer,\n      event: event,\n      pointerIndex: index,\n      interaction: this\n    });\n\n    this.pointers.splice(index, 1);\n    this.pointerIds.splice(index, 1);\n    this.downTargets.splice(index, 1);\n    this.downTimes.splice(index, 1);\n  };\n\n  Interaction.prototype._updateEventTargets = function _updateEventTargets(target, currentTarget) {\n    this._eventTarget = target;\n    this._curEventTarget = currentTarget;\n  };\n\n  return Interaction;\n}();\n\nfor (var _i = 0; _i < methodNames.length; _i++) {\n  var method = methodNames[_i];\n  listeners[method] = doOnInteractions(method);\n}\n\nfunction doOnInteractions(method) {\n  return function (event) {\n    var pointerType = utils.getPointerType(event);\n\n    var _utils$getEventTarget = utils.getEventTargets(event),\n        eventTarget = _utils$getEventTarget[0],\n        curEventTarget = _utils$getEventTarget[1];\n\n    var matches = []; // [ [pointer, interaction], ...]\n\n    if (browser.supportsTouch && /touch/.test(event.type)) {\n      prevTouchTime = new Date().getTime();\n\n      for (var _i2 = 0; _i2 < event.changedTouches.length; _i2++) {\n        var _ref2;\n\n        _ref2 = event.changedTouches[_i2];\n        var changedTouch = _ref2;\n\n        var pointer = changedTouch;\n        var interaction = finder.search(pointer, event.type, eventTarget);\n\n        matches.push([pointer, interaction || new Interaction({ pointerType: pointerType })]);\n      }\n    } else {\n      var invalidPointer = false;\n\n      if (!browser.supportsPointerEvent && /mouse/.test(event.type)) {\n        // ignore mouse events while touch interactions are active\n        for (var i = 0; i < scope.interactions.length && !invalidPointer; i++) {\n          invalidPointer = scope.interactions[i].pointerType !== 'mouse' && scope.interactions[i].pointerIsDown;\n        }\n\n        // try to ignore mouse events that are simulated by the browser\n        // after a touch event\n        invalidPointer = invalidPointer || new Date().getTime() - prevTouchTime < 500\n        // on iOS and Firefox Mobile, MouseEvent.timeStamp is zero if simulated\n        || event.timeStamp === 0;\n      }\n\n      if (!invalidPointer) {\n        var _interaction = finder.search(event, event.type, eventTarget);\n\n        if (!_interaction) {\n          _interaction = new Interaction({ pointerType: pointerType });\n        }\n\n        matches.push([event, _interaction]);\n      }\n    }\n\n    for (var _i3 = 0; _i3 < matches.length; _i3++) {\n      var _ref3 = matches[_i3];\n      var _pointer = _ref3[0];\n      var _interaction2 = _ref3[1];\n\n      _interaction2._updateEventTargets(eventTarget, curEventTarget);\n      _interaction2[method](_pointer, event, eventTarget, curEventTarget);\n    }\n  };\n}\n\nfunction endAll(event) {\n  for (var _i4 = 0; _i4 < scope.interactions.length; _i4++) {\n    var _ref4;\n\n    _ref4 = scope.interactions[_i4];\n    var interaction = _ref4;\n\n    interaction.end(event);\n    signals.fire('endall', { event: event, interaction: interaction });\n  }\n}\n\nvar docEvents = {/* 'eventType': listenerFunc */};\nvar pEventTypes = browser.pEventTypes;\n\nif (domObjects.PointerEvent) {\n  docEvents[pEventTypes.down] = listeners.pointerDown;\n  docEvents[pEventTypes.move] = listeners.pointerMove;\n  docEvents[pEventTypes.up] = listeners.pointerUp;\n  docEvents[pEventTypes.cancel] = listeners.pointerUp;\n} else {\n  docEvents.mousedown = listeners.pointerDown;\n  docEvents.mousemove = listeners.pointerMove;\n  docEvents.mouseup = listeners.pointerUp;\n\n  docEvents.touchstart = listeners.pointerDown;\n  docEvents.touchmove = listeners.pointerMove;\n  docEvents.touchend = listeners.pointerUp;\n  docEvents.touchcancel = listeners.pointerUp;\n}\n\ndocEvents.blur = endAll;\n\nfunction onDocSignal(_ref5, signalName) {\n  var doc = _ref5.doc;\n\n  var eventMethod = signalName.indexOf('add') === 0 ? events.add : events.remove;\n\n  // delegate event listener\n  for (var eventType in scope.delegatedEvents) {\n    eventMethod(doc, eventType, events.delegateListener);\n    eventMethod(doc, eventType, events.delegateUseCapture, true);\n  }\n\n  for (var _eventType in docEvents) {\n    eventMethod(doc, _eventType, docEvents[_eventType], browser.isIOS ? { passive: false } : undefined);\n  }\n}\n\nsignals.on('update-pointer-down', function (_ref6) {\n  var interaction = _ref6.interaction,\n      pointer = _ref6.pointer,\n      pointerId = _ref6.pointerId,\n      pointerIndex = _ref6.pointerIndex,\n      event = _ref6.event,\n      eventTarget = _ref6.eventTarget,\n      down = _ref6.down;\n\n  interaction.pointerIds[pointerIndex] = pointerId;\n  interaction.pointers[pointerIndex] = pointer;\n\n  if (down) {\n    interaction.pointerIsDown = true;\n  }\n\n  if (!interaction.interacting()) {\n    utils.setCoords(interaction.startCoords, interaction.pointers);\n\n    utils.copyCoords(interaction.curCoords, interaction.startCoords);\n    utils.copyCoords(interaction.prevCoords, interaction.startCoords);\n\n    interaction.downEvent = event;\n    interaction.downTimes[pointerIndex] = interaction.curCoords.timeStamp;\n    interaction.downTargets[pointerIndex] = eventTarget || event && utils.getEventTargets(event)[0];\n    interaction.pointerWasMoved = false;\n\n    utils.pointerExtend(interaction.downPointer, pointer);\n  }\n});\n\nscope.signals.on('add-document', onDocSignal);\nscope.signals.on('remove-document', onDocSignal);\n\nInteraction.pointerMoveTolerance = 1;\nInteraction.doOnInteractions = doOnInteractions;\nInteraction.endAll = endAll;\nInteraction.signals = signals;\nInteraction.docEvents = docEvents;\n\nscope.endAllInteractions = endAll;\n\nmodule.exports = Interaction;\n\n},{\"./scope\":33,\"./utils\":44,\"./utils/Signals\":34,\"./utils/browser\":36,\"./utils/domObjects\":38,\"./utils/events\":40,\"./utils/interactionFinder\":45}],6:[function(require,module,exports){\n'use strict';\n\nvar Interaction = require('../Interaction');\nvar InteractEvent = require('../InteractEvent');\n\nvar actions = {\n  firePrepared: firePrepared,\n  names: [],\n  methodDict: {}\n};\n\nInteraction.signals.on('action-start', function (_ref) {\n  var interaction = _ref.interaction,\n      event = _ref.event;\n\n  interaction._interacting = true;\n  firePrepared(interaction, event, 'start');\n});\n\nInteraction.signals.on('action-move', function (_ref2) {\n  var interaction = _ref2.interaction,\n      event = _ref2.event,\n      preEnd = _ref2.preEnd;\n\n  firePrepared(interaction, event, 'move', preEnd);\n\n  // if the action was ended in a listener\n  if (!interaction.interacting()) {\n    return false;\n  }\n});\n\nInteraction.signals.on('action-end', function (_ref3) {\n  var interaction = _ref3.interaction,\n      event = _ref3.event;\n\n  firePrepared(interaction, event, 'end');\n});\n\nfunction firePrepared(interaction, event, phase, preEnd) {\n  var actionName = interaction.prepared.name;\n\n  var newEvent = new InteractEvent(interaction, event, actionName, phase, interaction.element, null, preEnd);\n\n  interaction.target.fire(newEvent);\n  interaction.prevEvent = newEvent;\n}\n\nmodule.exports = actions;\n\n},{\"../InteractEvent\":3,\"../Interaction\":5}],7:[function(require,module,exports){\n'use strict';\n\nvar actions = require('./base');\nvar utils = require('../utils');\nvar InteractEvent = require('../InteractEvent');\n/** @lends Interactable */\nvar Interactable = require('../Interactable');\nvar Interaction = require('../Interaction');\nvar defaultOptions = require('../defaultOptions');\n\nvar drag = {\n  defaults: {\n    enabled: false,\n    mouseButtons: null,\n\n    origin: null,\n    snap: null,\n    restrict: null,\n    inertia: null,\n    autoScroll: null,\n\n    startAxis: 'xy',\n    lockAxis: 'xy'\n  },\n\n  checker: function checker(pointer, event, interactable) {\n    var dragOptions = interactable.options.drag;\n\n    return dragOptions.enabled ? { name: 'drag', axis: dragOptions.lockAxis === 'start' ? dragOptions.startAxis : dragOptions.lockAxis } : null;\n  },\n\n  getCursor: function getCursor() {\n    return 'move';\n  }\n};\n\nInteraction.signals.on('before-action-move', function (_ref) {\n  var interaction = _ref.interaction;\n\n  if (interaction.prepared.name !== 'drag') {\n    return;\n  }\n\n  var axis = interaction.prepared.axis;\n\n  if (axis === 'x') {\n    interaction.curCoords.page.y = interaction.startCoords.page.y;\n    interaction.curCoords.client.y = interaction.startCoords.client.y;\n\n    interaction.pointerDelta.page.speed = Math.abs(interaction.pointerDelta.page.vx);\n    interaction.pointerDelta.client.speed = Math.abs(interaction.pointerDelta.client.vx);\n    interaction.pointerDelta.client.vy = 0;\n    interaction.pointerDelta.page.vy = 0;\n  } else if (axis === 'y') {\n    interaction.curCoords.page.x = interaction.startCoords.page.x;\n    interaction.curCoords.client.x = interaction.startCoords.client.x;\n\n    interaction.pointerDelta.page.speed = Math.abs(interaction.pointerDelta.page.vy);\n    interaction.pointerDelta.client.speed = Math.abs(interaction.pointerDelta.client.vy);\n    interaction.pointerDelta.client.vx = 0;\n    interaction.pointerDelta.page.vx = 0;\n  }\n});\n\n// dragmove\nInteractEvent.signals.on('new', function (_ref2) {\n  var iEvent = _ref2.iEvent,\n      interaction = _ref2.interaction;\n\n  if (iEvent.type !== 'dragmove') {\n    return;\n  }\n\n  var axis = interaction.prepared.axis;\n\n  if (axis === 'x') {\n    iEvent.pageY = interaction.startCoords.page.y;\n    iEvent.clientY = interaction.startCoords.client.y;\n    iEvent.dy = 0;\n  } else if (axis === 'y') {\n    iEvent.pageX = interaction.startCoords.page.x;\n    iEvent.clientX = interaction.startCoords.client.x;\n    iEvent.dx = 0;\n  }\n});\n\n/**\n * ```js\n * interact(element).draggable({\n *     onstart: function (event) {},\n *     onmove : function (event) {},\n *     onend  : function (event) {},\n *\n *     // the axis in which the first movement must be\n *     // for the drag sequence to start\n *     // 'xy' by default - any direction\n *     startAxis: 'x' || 'y' || 'xy',\n *\n *     // 'xy' by default - don't restrict to one axis (move in any direction)\n *     // 'x' or 'y' to restrict movement to either axis\n *     // 'start' to restrict movement to the axis the drag started in\n *     lockAxis: 'x' || 'y' || 'xy' || 'start',\n *\n *     // max number of drags that can happen concurrently\n *     // with elements of this Interactable. Infinity by default\n *     max: Infinity,\n *\n *     // max number of drags that can target the same element+Interactable\n *     // 1 by default\n *     maxPerElement: 2\n * });\n *\n * var isDraggable = interact('element').draggable(); // true\n * ```\n *\n * Get or set whether drag actions can be performed on the target\n *\n * @param {boolean | object} [options] true/false or An object with event\n * listeners to be fired on drag events (object makes the Interactable\n * draggable)\n * @return {boolean | Interactable} boolean indicating if this can be the\n * target of drag events, or this Interctable\n */\nInteractable.prototype.draggable = function (options) {\n  if (utils.is.object(options)) {\n    this.options.drag.enabled = options.enabled === false ? false : true;\n    this.setPerAction('drag', options);\n    this.setOnEvents('drag', options);\n\n    if (/^(xy|x|y|start)$/.test(options.lockAxis)) {\n      this.options.drag.lockAxis = options.lockAxis;\n    }\n    if (/^(xy|x|y)$/.test(options.startAxis)) {\n      this.options.drag.startAxis = options.startAxis;\n    }\n\n    return this;\n  }\n\n  if (utils.is.bool(options)) {\n    this.options.drag.enabled = options;\n\n    if (!options) {\n      this.ondragstart = this.ondragstart = this.ondragend = null;\n    }\n\n    return this;\n  }\n\n  return this.options.drag;\n};\n\nactions.drag = drag;\nactions.names.push('drag');\nutils.merge(Interactable.eventTypes, ['dragstart', 'dragmove', 'draginertiastart', 'draginertiaresume', 'dragend']);\nactions.methodDict.drag = 'draggable';\n\ndefaultOptions.drag = drag.defaults;\n\nmodule.exports = drag;\n\n},{\"../InteractEvent\":3,\"../Interactable\":4,\"../Interaction\":5,\"../defaultOptions\":18,\"../utils\":44,\"./base\":6}],8:[function(require,module,exports){\n'use strict';\n\nvar actions = require('./base');\nvar utils = require('../utils');\nvar scope = require('../scope');\n/** @lends module:interact */\nvar interact = require('../interact');\nvar InteractEvent = require('../InteractEvent');\n/** @lends Interactable */\nvar Interactable = require('../Interactable');\nvar Interaction = require('../Interaction');\nvar defaultOptions = require('../defaultOptions');\n\nvar drop = {\n  defaults: {\n    enabled: false,\n    accept: null,\n    overlap: 'pointer'\n  }\n};\n\nvar dynamicDrop = false;\n\nInteraction.signals.on('action-start', function (_ref) {\n  var interaction = _ref.interaction,\n      event = _ref.event;\n\n  if (interaction.prepared.name !== 'drag') {\n    return;\n  }\n\n  // reset active dropzones\n  interaction.activeDrops.dropzones = [];\n  interaction.activeDrops.elements = [];\n  interaction.activeDrops.rects = [];\n\n  interaction.dropEvents = null;\n\n  if (!interaction.dynamicDrop) {\n    setActiveDrops(interaction.activeDrops, interaction.element);\n  }\n\n  var dragEvent = interaction.prevEvent;\n  var dropEvents = getDropEvents(interaction, event, dragEvent);\n\n  if (dropEvents.activate) {\n    fireActiveDrops(interaction.activeDrops, dropEvents.activate);\n  }\n});\n\nInteractEvent.signals.on('new', function (_ref2) {\n  var interaction = _ref2.interaction,\n      iEvent = _ref2.iEvent,\n      event = _ref2.event;\n\n  if (iEvent.type !== 'dragmove' && iEvent.type !== 'dragend') {\n    return;\n  }\n\n  var draggableElement = interaction.element;\n  var dragEvent = iEvent;\n  var dropResult = getDrop(dragEvent, event, draggableElement);\n\n  interaction.dropTarget = dropResult.dropzone;\n  interaction.dropElement = dropResult.element;\n\n  interaction.dropEvents = getDropEvents(interaction, event, dragEvent);\n});\n\nInteraction.signals.on('action-move', function (_ref3) {\n  var interaction = _ref3.interaction;\n\n  if (interaction.prepared.name !== 'drag') {\n    return;\n  }\n\n  fireDropEvents(interaction, interaction.dropEvents);\n});\n\nInteraction.signals.on('action-end', function (_ref4) {\n  var interaction = _ref4.interaction;\n\n  if (interaction.prepared.name === 'drag') {\n    fireDropEvents(interaction, interaction.dropEvents);\n  }\n});\n\nInteraction.signals.on('stop-drag', function (_ref5) {\n  var interaction = _ref5.interaction;\n\n  interaction.activeDrops = {\n    dropzones: null,\n    elements: null,\n    rects: null\n  };\n\n  interaction.dropEvents = null;\n});\n\nfunction collectDrops(activeDrops, element) {\n  var drops = [];\n  var elements = [];\n\n  // collect all dropzones and their elements which qualify for a drop\n  for (var _i = 0; _i < scope.interactables.length; _i++) {\n    var _ref6;\n\n    _ref6 = scope.interactables[_i];\n    var current = _ref6;\n\n    if (!current.options.drop.enabled) {\n      continue;\n    }\n\n    var accept = current.options.drop.accept;\n\n    // test the draggable element against the dropzone's accept setting\n    if (utils.is.element(accept) && accept !== element || utils.is.string(accept) && !utils.matchesSelector(element, accept)) {\n\n      continue;\n    }\n\n    // query for new elements if necessary\n    var dropElements = utils.is.string(current.target) ? current._context.querySelectorAll(current.target) : [current.target];\n\n    for (var _i2 = 0; _i2 < dropElements.length; _i2++) {\n      var _ref7;\n\n      _ref7 = dropElements[_i2];\n      var currentElement = _ref7;\n\n      if (currentElement !== element) {\n        drops.push(current);\n        elements.push(currentElement);\n      }\n    }\n  }\n\n  return {\n    elements: elements,\n    dropzones: drops\n  };\n}\n\nfunction fireActiveDrops(activeDrops, event) {\n  var prevElement = void 0;\n\n  // loop through all active dropzones and trigger event\n  for (var i = 0; i < activeDrops.dropzones.length; i++) {\n    var current = activeDrops.dropzones[i];\n    var currentElement = activeDrops.elements[i];\n\n    // prevent trigger of duplicate events on same element\n    if (currentElement !== prevElement) {\n      // set current element as event target\n      event.target = currentElement;\n      current.fire(event);\n    }\n    prevElement = currentElement;\n  }\n}\n\n// Collect a new set of possible drops and save them in activeDrops.\n// setActiveDrops should always be called when a drag has just started or a\n// drag event happens while dynamicDrop is true\nfunction setActiveDrops(activeDrops, dragElement) {\n  // get dropzones and their elements that could receive the draggable\n  var possibleDrops = collectDrops(activeDrops, dragElement);\n\n  activeDrops.dropzones = possibleDrops.dropzones;\n  activeDrops.elements = possibleDrops.elements;\n  activeDrops.rects = [];\n\n  for (var i = 0; i < activeDrops.dropzones.length; i++) {\n    activeDrops.rects[i] = activeDrops.dropzones[i].getRect(activeDrops.elements[i]);\n  }\n}\n\nfunction getDrop(dragEvent, event, dragElement) {\n  var interaction = dragEvent.interaction;\n  var validDrops = [];\n\n  if (dynamicDrop) {\n    setActiveDrops(interaction.activeDrops, dragElement);\n  }\n\n  // collect all dropzones and their elements which qualify for a drop\n  for (var j = 0; j < interaction.activeDrops.dropzones.length; j++) {\n    var current = interaction.activeDrops.dropzones[j];\n    var currentElement = interaction.activeDrops.elements[j];\n    var rect = interaction.activeDrops.rects[j];\n\n    validDrops.push(current.dropCheck(dragEvent, event, interaction.target, dragElement, currentElement, rect) ? currentElement : null);\n  }\n\n  // get the most appropriate dropzone based on DOM depth and order\n  var dropIndex = utils.indexOfDeepestElement(validDrops);\n\n  return {\n    dropzone: interaction.activeDrops.dropzones[dropIndex] || null,\n    element: interaction.activeDrops.elements[dropIndex] || null\n  };\n}\n\nfunction getDropEvents(interaction, pointerEvent, dragEvent) {\n  var dropEvents = {\n    enter: null,\n    leave: null,\n    activate: null,\n    deactivate: null,\n    move: null,\n    drop: null\n  };\n\n  var tmpl = {\n    dragEvent: dragEvent,\n    interaction: interaction,\n    target: interaction.dropElement,\n    dropzone: interaction.dropTarget,\n    relatedTarget: dragEvent.target,\n    draggable: dragEvent.interactable,\n    timeStamp: dragEvent.timeStamp\n  };\n\n  if (interaction.dropElement !== interaction.prevDropElement) {\n    // if there was a prevDropTarget, create a dragleave event\n    if (interaction.prevDropTarget) {\n      dropEvents.leave = utils.extend({ type: 'dragleave' }, tmpl);\n\n      dragEvent.dragLeave = dropEvents.leave.target = interaction.prevDropElement;\n      dragEvent.prevDropzone = dropEvents.leave.dropzone = interaction.prevDropTarget;\n    }\n    // if the dropTarget is not null, create a dragenter event\n    if (interaction.dropTarget) {\n      dropEvents.enter = {\n        dragEvent: dragEvent,\n        interaction: interaction,\n        target: interaction.dropElement,\n        dropzone: interaction.dropTarget,\n        relatedTarget: dragEvent.target,\n        draggable: dragEvent.interactable,\n        timeStamp: dragEvent.timeStamp,\n        type: 'dragenter'\n      };\n\n      dragEvent.dragEnter = interaction.dropElement;\n      dragEvent.dropzone = interaction.dropTarget;\n    }\n  }\n\n  if (dragEvent.type === 'dragend' && interaction.dropTarget) {\n    dropEvents.drop = utils.extend({ type: 'drop' }, tmpl);\n\n    dragEvent.dropzone = interaction.dropTarget;\n    dragEvent.relatedTarget = interaction.dropElement;\n  }\n  if (dragEvent.type === 'dragstart') {\n    dropEvents.activate = utils.extend({ type: 'dropactivate' }, tmpl);\n\n    dropEvents.activate.target = null;\n    dropEvents.activate.dropzone = null;\n  }\n  if (dragEvent.type === 'dragend') {\n    dropEvents.deactivate = utils.extend({ type: 'dropdeactivate' }, tmpl);\n\n    dropEvents.deactivate.target = null;\n    dropEvents.deactivate.dropzone = null;\n  }\n  if (dragEvent.type === 'dragmove' && interaction.dropTarget) {\n    dropEvents.move = utils.extend({\n      dragmove: dragEvent,\n      type: 'dropmove'\n    }, tmpl);\n\n    dragEvent.dropzone = interaction.dropTarget;\n  }\n\n  return dropEvents;\n}\n\nfunction fireDropEvents(interaction, dropEvents) {\n  var activeDrops = interaction.activeDrops,\n      prevDropTarget = interaction.prevDropTarget,\n      dropTarget = interaction.dropTarget,\n      dropElement = interaction.dropElement;\n\n\n  if (dropEvents.leave) {\n    prevDropTarget.fire(dropEvents.leave);\n  }\n  if (dropEvents.move) {\n    dropTarget.fire(dropEvents.move);\n  }\n  if (dropEvents.enter) {\n    dropTarget.fire(dropEvents.enter);\n  }\n  if (dropEvents.drop) {\n    dropTarget.fire(dropEvents.drop);\n  }\n  if (dropEvents.deactivate) {\n    fireActiveDrops(activeDrops, dropEvents.deactivate);\n  }\n\n  interaction.prevDropTarget = dropTarget;\n  interaction.prevDropElement = dropElement;\n}\n\n/**\n * ```js\n * interact(target)\n * .dropChecker(function(dragEvent,         // related dragmove or dragend event\n *                       event,             // TouchEvent/PointerEvent/MouseEvent\n *                       dropped,           // bool result of the default checker\n *                       dropzone,          // dropzone Interactable\n *                       dropElement,       // dropzone elemnt\n *                       draggable,         // draggable Interactable\n *                       draggableElement) {// draggable element\n *\n *   return dropped && event.target.hasAttribute('allow-drop');\n * }\n * ```\n *\n * ```js\n * interact('.drop').dropzone({\n *   accept: '.can-drop' || document.getElementById('single-drop'),\n *   overlap: 'pointer' || 'center' || zeroToOne\n * }\n * ```\n *\n * Returns or sets whether draggables can be dropped onto this target to\n * trigger drop events\n *\n * Dropzones can receive the following events:\n *  - `dropactivate` and `dropdeactivate` when an acceptable drag starts and ends\n *  - `dragenter` and `dragleave` when a draggable enters and leaves the dropzone\n *  - `dragmove` when a draggable that has entered the dropzone is moved\n *  - `drop` when a draggable is dropped into this dropzone\n *\n * Use the `accept` option to allow only elements that match the given CSS\n * selector or element. The value can be:\n *\n *  - **an Element** - only that element can be dropped into this dropzone.\n *  - **a string**, - the element being dragged must match it as a CSS selector.\n *  - **`null`** - accept options is cleared - it accepts any element.\n *\n * Use the `overlap` option to set how drops are checked for. The allowed\n * values are:\n *\n *   - `'pointer'`, the pointer must be over the dropzone (default)\n *   - `'center'`, the draggable element's center must be over the dropzone\n *   - a number from 0-1 which is the `(intersection area) / (draggable area)`.\n *   e.g. `0.5` for drop to happen when half of the area of the draggable is\n *   over the dropzone\n *\n * Use the `checker` option to specify a function to check if a dragged element\n * is over this Interactable.\n *\n * @param {boolean | object | null} [options] The new options to be set.\n * @return {boolean | Interactable} The current setting or this Interactable\n */\nInteractable.prototype.dropzone = function (options) {\n  if (utils.is.object(options)) {\n    this.options.drop.enabled = options.enabled === false ? false : true;\n\n    if (utils.is.function(options.ondrop)) {\n      this.events.ondrop = options.ondrop;\n    }\n    if (utils.is.function(options.ondropactivate)) {\n      this.events.ondropactivate = options.ondropactivate;\n    }\n    if (utils.is.function(options.ondropdeactivate)) {\n      this.events.ondropdeactivate = options.ondropdeactivate;\n    }\n    if (utils.is.function(options.ondragenter)) {\n      this.events.ondragenter = options.ondragenter;\n    }\n    if (utils.is.function(options.ondragleave)) {\n      this.events.ondragleave = options.ondragleave;\n    }\n    if (utils.is.function(options.ondropmove)) {\n      this.events.ondropmove = options.ondropmove;\n    }\n\n    if (/^(pointer|center)$/.test(options.overlap)) {\n      this.options.drop.overlap = options.overlap;\n    } else if (utils.is.number(options.overlap)) {\n      this.options.drop.overlap = Math.max(Math.min(1, options.overlap), 0);\n    }\n    if ('accept' in options) {\n      this.options.drop.accept = options.accept;\n    }\n    if ('checker' in options) {\n      this.options.drop.checker = options.checker;\n    }\n\n    return this;\n  }\n\n  if (utils.is.bool(options)) {\n    this.options.drop.enabled = options;\n\n    if (!options) {\n      this.ondragenter = this.ondragleave = this.ondrop = this.ondropactivate = this.ondropdeactivate = null;\n    }\n\n    return this;\n  }\n\n  return this.options.drop;\n};\n\nInteractable.prototype.dropCheck = function (dragEvent, event, draggable, draggableElement, dropElement, rect) {\n  var dropped = false;\n\n  // if the dropzone has no rect (eg. display: none)\n  // call the custom dropChecker or just return false\n  if (!(rect = rect || this.getRect(dropElement))) {\n    return this.options.drop.checker ? this.options.drop.checker(dragEvent, event, dropped, this, dropElement, draggable, draggableElement) : false;\n  }\n\n  var dropOverlap = this.options.drop.overlap;\n\n  if (dropOverlap === 'pointer') {\n    var origin = utils.getOriginXY(draggable, draggableElement, 'drag');\n    var page = utils.getPageXY(dragEvent);\n\n    page.x += origin.x;\n    page.y += origin.y;\n\n    var horizontal = page.x > rect.left && page.x < rect.right;\n    var vertical = page.y > rect.top && page.y < rect.bottom;\n\n    dropped = horizontal && vertical;\n  }\n\n  var dragRect = draggable.getRect(draggableElement);\n\n  if (dragRect && dropOverlap === 'center') {\n    var cx = dragRect.left + dragRect.width / 2;\n    var cy = dragRect.top + dragRect.height / 2;\n\n    dropped = cx >= rect.left && cx <= rect.right && cy >= rect.top && cy <= rect.bottom;\n  }\n\n  if (dragRect && utils.is.number(dropOverlap)) {\n    var overlapArea = Math.max(0, Math.min(rect.right, dragRect.right) - Math.max(rect.left, dragRect.left)) * Math.max(0, Math.min(rect.bottom, dragRect.bottom) - Math.max(rect.top, dragRect.top));\n\n    var overlapRatio = overlapArea / (dragRect.width * dragRect.height);\n\n    dropped = overlapRatio >= dropOverlap;\n  }\n\n  if (this.options.drop.checker) {\n    dropped = this.options.drop.checker(dragEvent, event, dropped, this, dropElement, draggable, draggableElement);\n  }\n\n  return dropped;\n};\n\nInteractable.signals.on('unset', function (_ref8) {\n  var interactable = _ref8.interactable;\n\n  interactable.dropzone(false);\n});\n\nInteractable.settingsMethods.push('dropChecker');\n\nInteraction.signals.on('new', function (interaction) {\n  interaction.dropTarget = null; // the dropzone a drag target might be dropped into\n  interaction.dropElement = null; // the element at the time of checking\n  interaction.prevDropTarget = null; // the dropzone that was recently dragged away from\n  interaction.prevDropElement = null; // the element at the time of checking\n  interaction.dropEvents = null; // the dropEvents related to the current drag event\n\n  interaction.activeDrops = {\n    dropzones: [], // the dropzones that are mentioned below\n    elements: [], // elements of dropzones that accept the target draggable\n    rects: [] // the rects of the elements mentioned above\n  };\n});\n\nInteraction.signals.on('stop', function (_ref9) {\n  var interaction = _ref9.interaction;\n\n  interaction.dropTarget = interaction.dropElement = interaction.prevDropTarget = interaction.prevDropElement = null;\n});\n\n/**\n * Returns or sets whether the dimensions of dropzone elements are calculated\n * on every dragmove or only on dragstart for the default dropChecker\n *\n * @param {boolean} [newValue] True to check on each move. False to check only\n * before start\n * @return {boolean | interact} The current setting or interact\n */\ninteract.dynamicDrop = function (newValue) {\n  if (utils.is.bool(newValue)) {\n    //if (dragging && dynamicDrop !== newValue && !newValue) {\n    //calcRects(dropzones);\n    //}\n\n    dynamicDrop = newValue;\n\n    return interact;\n  }\n  return dynamicDrop;\n};\n\nutils.merge(Interactable.eventTypes, ['dragenter', 'dragleave', 'dropactivate', 'dropdeactivate', 'dropmove', 'drop']);\nactions.methodDict.drop = 'dropzone';\n\ndefaultOptions.drop = drop.defaults;\n\nmodule.exports = drop;\n\n},{\"../InteractEvent\":3,\"../Interactable\":4,\"../Interaction\":5,\"../defaultOptions\":18,\"../interact\":21,\"../scope\":33,\"../utils\":44,\"./base\":6}],9:[function(require,module,exports){\n'use strict';\n\nvar actions = require('./base');\nvar utils = require('../utils');\nvar InteractEvent = require('../InteractEvent');\nvar Interactable = require('../Interactable');\nvar Interaction = require('../Interaction');\nvar defaultOptions = require('../defaultOptions');\n\nvar gesture = {\n  defaults: {\n    enabled: false,\n    origin: null,\n    restrict: null\n  },\n\n  checker: function checker(pointer, event, interactable, element, interaction) {\n    if (interaction.pointerIds.length >= 2) {\n      return { name: 'gesture' };\n    }\n\n    return null;\n  },\n\n  getCursor: function getCursor() {\n    return '';\n  }\n};\n\nInteractEvent.signals.on('new', function (_ref) {\n  var iEvent = _ref.iEvent,\n      interaction = _ref.interaction;\n\n  if (iEvent.type !== 'gesturestart') {\n    return;\n  }\n  iEvent.ds = 0;\n\n  interaction.gesture.startDistance = interaction.gesture.prevDistance = iEvent.distance;\n  interaction.gesture.startAngle = interaction.gesture.prevAngle = iEvent.angle;\n  interaction.gesture.scale = 1;\n});\n\nInteractEvent.signals.on('new', function (_ref2) {\n  var iEvent = _ref2.iEvent,\n      interaction = _ref2.interaction;\n\n  if (iEvent.type !== 'gesturemove') {\n    return;\n  }\n\n  iEvent.ds = iEvent.scale - interaction.gesture.scale;\n\n  interaction.target.fire(iEvent);\n\n  interaction.gesture.prevAngle = iEvent.angle;\n  interaction.gesture.prevDistance = iEvent.distance;\n\n  if (iEvent.scale !== Infinity && iEvent.scale !== null && iEvent.scale !== undefined && !isNaN(iEvent.scale)) {\n\n    interaction.gesture.scale = iEvent.scale;\n  }\n});\n\n/**\n * ```js\n * interact(element).gesturable({\n *     onstart: function (event) {},\n *     onmove : function (event) {},\n *     onend  : function (event) {},\n *\n *     // limit multiple gestures.\n *     // See the explanation in {@link Interactable.draggable} example\n *     max: Infinity,\n *     maxPerElement: 1,\n * });\n *\n * var isGestureable = interact(element).gesturable();\n * ```\n *\n * Gets or sets whether multitouch gestures can be performed on the target\n *\n * @param {boolean | object} [options] true/false or An object with event\n * listeners to be fired on gesture events (makes the Interactable gesturable)\n * @return {boolean | Interactable} A boolean indicating if this can be the\n * target of gesture events, or this Interactable\n */\nInteractable.prototype.gesturable = function (options) {\n  if (utils.is.object(options)) {\n    this.options.gesture.enabled = options.enabled === false ? false : true;\n    this.setPerAction('gesture', options);\n    this.setOnEvents('gesture', options);\n\n    return this;\n  }\n\n  if (utils.is.bool(options)) {\n    this.options.gesture.enabled = options;\n\n    if (!options) {\n      this.ongesturestart = this.ongesturestart = this.ongestureend = null;\n    }\n\n    return this;\n  }\n\n  return this.options.gesture;\n};\n\nInteractEvent.signals.on('set-delta', function (_ref3) {\n  var interaction = _ref3.interaction,\n      iEvent = _ref3.iEvent,\n      action = _ref3.action,\n      event = _ref3.event,\n      starting = _ref3.starting,\n      ending = _ref3.ending,\n      deltaSource = _ref3.deltaSource;\n\n  if (action !== 'gesture') {\n    return;\n  }\n\n  var pointers = interaction.pointers;\n\n  iEvent.touches = [pointers[0], pointers[1]];\n\n  if (starting) {\n    iEvent.distance = utils.touchDistance(pointers, deltaSource);\n    iEvent.box = utils.touchBBox(pointers);\n    iEvent.scale = 1;\n    iEvent.ds = 0;\n    iEvent.angle = utils.touchAngle(pointers, undefined, deltaSource);\n    iEvent.da = 0;\n  } else if (ending || event instanceof InteractEvent) {\n    iEvent.distance = interaction.prevEvent.distance;\n    iEvent.box = interaction.prevEvent.box;\n    iEvent.scale = interaction.prevEvent.scale;\n    iEvent.ds = iEvent.scale - 1;\n    iEvent.angle = interaction.prevEvent.angle;\n    iEvent.da = iEvent.angle - interaction.gesture.startAngle;\n  } else {\n    iEvent.distance = utils.touchDistance(pointers, deltaSource);\n    iEvent.box = utils.touchBBox(pointers);\n    iEvent.scale = iEvent.distance / interaction.gesture.startDistance;\n    iEvent.angle = utils.touchAngle(pointers, interaction.gesture.prevAngle, deltaSource);\n\n    iEvent.ds = iEvent.scale - interaction.gesture.prevScale;\n    iEvent.da = iEvent.angle - interaction.gesture.prevAngle;\n  }\n});\n\nInteraction.signals.on('new', function (interaction) {\n  interaction.gesture = {\n    start: { x: 0, y: 0 },\n\n    startDistance: 0, // distance between two touches of touchStart\n    prevDistance: 0,\n    distance: 0,\n\n    scale: 1, // gesture.distance / gesture.startDistance\n\n    startAngle: 0, // angle of line joining two touches\n    prevAngle: 0 // angle of the previous gesture event\n  };\n});\n\nactions.gesture = gesture;\nactions.names.push('gesture');\nutils.merge(Interactable.eventTypes, ['gesturestart', 'gesturemove', 'gestureend']);\nactions.methodDict.gesture = 'gesturable';\n\ndefaultOptions.gesture = gesture.defaults;\n\nmodule.exports = gesture;\n\n},{\"../InteractEvent\":3,\"../Interactable\":4,\"../Interaction\":5,\"../defaultOptions\":18,\"../utils\":44,\"./base\":6}],10:[function(require,module,exports){\n'use strict';\n\nvar actions = require('./base');\nvar utils = require('../utils');\nvar browser = require('../utils/browser');\nvar InteractEvent = require('../InteractEvent');\n/** @lends Interactable */\nvar Interactable = require('../Interactable');\nvar Interaction = require('../Interaction');\nvar defaultOptions = require('../defaultOptions');\n\n// Less Precision with touch input\nvar defaultMargin = browser.supportsTouch || browser.supportsPointerEvent ? 20 : 10;\n\nvar resize = {\n  defaults: {\n    enabled: false,\n    mouseButtons: null,\n\n    origin: null,\n    snap: null,\n    restrict: null,\n    inertia: null,\n    autoScroll: null,\n\n    square: false,\n    preserveAspectRatio: false,\n    axis: 'xy',\n\n    // use default margin\n    margin: NaN,\n\n    // object with props left, right, top, bottom which are\n    // true/false values to resize when the pointer is over that edge,\n    // CSS selectors to match the handles for each direction\n    // or the Elements for each handle\n    edges: null,\n\n    // a value of 'none' will limit the resize rect to a minimum of 0x0\n    // 'negate' will alow the rect to have negative width/height\n    // 'reposition' will keep the width/height positive by swapping\n    // the top and bottom edges and/or swapping the left and right edges\n    invert: 'none'\n  },\n\n  checker: function checker(pointer, event, interactable, element, interaction, rect) {\n    if (!rect) {\n      return null;\n    }\n\n    var page = utils.extend({}, interaction.curCoords.page);\n    var options = interactable.options;\n\n    if (options.resize.enabled) {\n      var resizeOptions = options.resize;\n      var resizeEdges = { left: false, right: false, top: false, bottom: false };\n\n      // if using resize.edges\n      if (utils.is.object(resizeOptions.edges)) {\n        for (var edge in resizeEdges) {\n          resizeEdges[edge] = checkResizeEdge(edge, resizeOptions.edges[edge], page, interaction._eventTarget, element, rect, resizeOptions.margin || defaultMargin);\n        }\n\n        resizeEdges.left = resizeEdges.left && !resizeEdges.right;\n        resizeEdges.top = resizeEdges.top && !resizeEdges.bottom;\n\n        if (resizeEdges.left || resizeEdges.right || resizeEdges.top || resizeEdges.bottom) {\n          return {\n            name: 'resize',\n            edges: resizeEdges\n          };\n        }\n      } else {\n        var right = options.resize.axis !== 'y' && page.x > rect.right - defaultMargin;\n        var bottom = options.resize.axis !== 'x' && page.y > rect.bottom - defaultMargin;\n\n        if (right || bottom) {\n          return {\n            name: 'resize',\n            axes: (right ? 'x' : '') + (bottom ? 'y' : '')\n          };\n        }\n      }\n    }\n\n    return null;\n  },\n\n  cursors: browser.isIe9 ? {\n    x: 'e-resize',\n    y: 's-resize',\n    xy: 'se-resize',\n\n    top: 'n-resize',\n    left: 'w-resize',\n    bottom: 's-resize',\n    right: 'e-resize',\n    topleft: 'se-resize',\n    bottomright: 'se-resize',\n    topright: 'ne-resize',\n    bottomleft: 'ne-resize'\n  } : {\n    x: 'ew-resize',\n    y: 'ns-resize',\n    xy: 'nwse-resize',\n\n    top: 'ns-resize',\n    left: 'ew-resize',\n    bottom: 'ns-resize',\n    right: 'ew-resize',\n    topleft: 'nwse-resize',\n    bottomright: 'nwse-resize',\n    topright: 'nesw-resize',\n    bottomleft: 'nesw-resize'\n  },\n\n  getCursor: function getCursor(action) {\n    if (action.axis) {\n      return resize.cursors[action.name + action.axis];\n    } else if (action.edges) {\n      var cursorKey = '';\n      var edgeNames = ['top', 'bottom', 'left', 'right'];\n\n      for (var i = 0; i < 4; i++) {\n        if (action.edges[edgeNames[i]]) {\n          cursorKey += edgeNames[i];\n        }\n      }\n\n      return resize.cursors[cursorKey];\n    }\n  }\n};\n\n// resizestart\nInteractEvent.signals.on('new', function (_ref) {\n  var iEvent = _ref.iEvent,\n      interaction = _ref.interaction;\n\n  if (iEvent.type !== 'resizestart' || !interaction.prepared.edges) {\n    return;\n  }\n\n  var startRect = interaction.target.getRect(interaction.element);\n  var resizeOptions = interaction.target.options.resize;\n\n  /*\n   * When using the `resizable.square` or `resizable.preserveAspectRatio` options, resizing from one edge\n   * will affect another. E.g. with `resizable.square`, resizing to make the right edge larger will make\n   * the bottom edge larger by the same amount. We call these 'linked' edges. Any linked edges will depend\n   * on the active edges and the edge being interacted with.\n   */\n  if (resizeOptions.square || resizeOptions.preserveAspectRatio) {\n    var linkedEdges = utils.extend({}, interaction.prepared.edges);\n\n    linkedEdges.top = linkedEdges.top || linkedEdges.left && !linkedEdges.bottom;\n    linkedEdges.left = linkedEdges.left || linkedEdges.top && !linkedEdges.right;\n    linkedEdges.bottom = linkedEdges.bottom || linkedEdges.right && !linkedEdges.top;\n    linkedEdges.right = linkedEdges.right || linkedEdges.bottom && !linkedEdges.left;\n\n    interaction.prepared._linkedEdges = linkedEdges;\n  } else {\n    interaction.prepared._linkedEdges = null;\n  }\n\n  // if using `resizable.preserveAspectRatio` option, record aspect ratio at the start of the resize\n  if (resizeOptions.preserveAspectRatio) {\n    interaction.resizeStartAspectRatio = startRect.width / startRect.height;\n  }\n\n  interaction.resizeRects = {\n    start: startRect,\n    current: utils.extend({}, startRect),\n    inverted: utils.extend({}, startRect),\n    previous: utils.extend({}, startRect),\n    delta: {\n      left: 0, right: 0, width: 0,\n      top: 0, bottom: 0, height: 0\n    }\n  };\n\n  iEvent.rect = interaction.resizeRects.inverted;\n  iEvent.deltaRect = interaction.resizeRects.delta;\n});\n\n// resizemove\nInteractEvent.signals.on('new', function (_ref2) {\n  var iEvent = _ref2.iEvent,\n      phase = _ref2.phase,\n      interaction = _ref2.interaction;\n\n  if (phase !== 'move' || !interaction.prepared.edges) {\n    return;\n  }\n\n  var resizeOptions = interaction.target.options.resize;\n  var invert = resizeOptions.invert;\n  var invertible = invert === 'reposition' || invert === 'negate';\n\n  var edges = interaction.prepared.edges;\n\n  var start = interaction.resizeRects.start;\n  var current = interaction.resizeRects.current;\n  var inverted = interaction.resizeRects.inverted;\n  var delta = interaction.resizeRects.delta;\n  var previous = utils.extend(interaction.resizeRects.previous, inverted);\n  var originalEdges = edges;\n\n  var dx = iEvent.dx;\n  var dy = iEvent.dy;\n\n  if (resizeOptions.preserveAspectRatio || resizeOptions.square) {\n    // `resize.preserveAspectRatio` takes precedence over `resize.square`\n    var startAspectRatio = resizeOptions.preserveAspectRatio ? interaction.resizeStartAspectRatio : 1;\n\n    edges = interaction.prepared._linkedEdges;\n\n    if (originalEdges.left && originalEdges.bottom || originalEdges.right && originalEdges.top) {\n      dy = -dx / startAspectRatio;\n    } else if (originalEdges.left || originalEdges.right) {\n      dy = dx / startAspectRatio;\n    } else if (originalEdges.top || originalEdges.bottom) {\n      dx = dy * startAspectRatio;\n    }\n  }\n\n  // update the 'current' rect without modifications\n  if (edges.top) {\n    current.top += dy;\n  }\n  if (edges.bottom) {\n    current.bottom += dy;\n  }\n  if (edges.left) {\n    current.left += dx;\n  }\n  if (edges.right) {\n    current.right += dx;\n  }\n\n  if (invertible) {\n    // if invertible, copy the current rect\n    utils.extend(inverted, current);\n\n    if (invert === 'reposition') {\n      // swap edge values if necessary to keep width/height positive\n      var swap = void 0;\n\n      if (inverted.top > inverted.bottom) {\n        swap = inverted.top;\n\n        inverted.top = inverted.bottom;\n        inverted.bottom = swap;\n      }\n      if (inverted.left > inverted.right) {\n        swap = inverted.left;\n\n        inverted.left = inverted.right;\n        inverted.right = swap;\n      }\n    }\n  } else {\n    // if not invertible, restrict to minimum of 0x0 rect\n    inverted.top = Math.min(current.top, start.bottom);\n    inverted.bottom = Math.max(current.bottom, start.top);\n    inverted.left = Math.min(current.left, start.right);\n    inverted.right = Math.max(current.right, start.left);\n  }\n\n  inverted.width = inverted.right - inverted.left;\n  inverted.height = inverted.bottom - inverted.top;\n\n  for (var edge in inverted) {\n    delta[edge] = inverted[edge] - previous[edge];\n  }\n\n  iEvent.edges = interaction.prepared.edges;\n  iEvent.rect = inverted;\n  iEvent.deltaRect = delta;\n});\n\n/**\n * ```js\n * interact(element).resizable({\n *   onstart: function (event) {},\n *   onmove : function (event) {},\n *   onend  : function (event) {},\n *\n *   edges: {\n *     top   : true,       // Use pointer coords to check for resize.\n *     left  : false,      // Disable resizing from left edge.\n *     bottom: '.resize-s',// Resize if pointer target matches selector\n *     right : handleEl    // Resize if pointer target is the given Element\n *   },\n *\n *     // Width and height can be adjusted independently. When `true`, width and\n *     // height are adjusted at a 1:1 ratio.\n *     square: false,\n *\n *     // Width and height can be adjusted independently. When `true`, width and\n *     // height maintain the aspect ratio they had when resizing started.\n *     preserveAspectRatio: false,\n *\n *   // a value of 'none' will limit the resize rect to a minimum of 0x0\n *   // 'negate' will allow the rect to have negative width/height\n *   // 'reposition' will keep the width/height positive by swapping\n *   // the top and bottom edges and/or swapping the left and right edges\n *   invert: 'none' || 'negate' || 'reposition'\n *\n *   // limit multiple resizes.\n *   // See the explanation in the {@link Interactable.draggable} example\n *   max: Infinity,\n *   maxPerElement: 1,\n * });\n *\n * var isResizeable = interact(element).resizable();\n * ```\n *\n * Gets or sets whether resize actions can be performed on the target\n *\n * @param {boolean | object} [options] true/false or An object with event\n * listeners to be fired on resize events (object makes the Interactable\n * resizable)\n * @return {boolean | Interactable} A boolean indicating if this can be the\n * target of resize elements, or this Interactable\n */\nInteractable.prototype.resizable = function (options) {\n  if (utils.is.object(options)) {\n    this.options.resize.enabled = options.enabled === false ? false : true;\n    this.setPerAction('resize', options);\n    this.setOnEvents('resize', options);\n\n    if (/^x$|^y$|^xy$/.test(options.axis)) {\n      this.options.resize.axis = options.axis;\n    } else if (options.axis === null) {\n      this.options.resize.axis = defaultOptions.resize.axis;\n    }\n\n    if (utils.is.bool(options.preserveAspectRatio)) {\n      this.options.resize.preserveAspectRatio = options.preserveAspectRatio;\n    } else if (utils.is.bool(options.square)) {\n      this.options.resize.square = options.square;\n    }\n\n    return this;\n  }\n  if (utils.is.bool(options)) {\n    this.options.resize.enabled = options;\n\n    if (!options) {\n      this.onresizestart = this.onresizestart = this.onresizeend = null;\n    }\n\n    return this;\n  }\n  return this.options.resize;\n};\n\nfunction checkResizeEdge(name, value, page, element, interactableElement, rect, margin) {\n  // false, '', undefined, null\n  if (!value) {\n    return false;\n  }\n\n  // true value, use pointer coords and element rect\n  if (value === true) {\n    // if dimensions are negative, \"switch\" edges\n    var width = utils.is.number(rect.width) ? rect.width : rect.right - rect.left;\n    var height = utils.is.number(rect.height) ? rect.height : rect.bottom - rect.top;\n\n    if (width < 0) {\n      if (name === 'left') {\n        name = 'right';\n      } else if (name === 'right') {\n        name = 'left';\n      }\n    }\n    if (height < 0) {\n      if (name === 'top') {\n        name = 'bottom';\n      } else if (name === 'bottom') {\n        name = 'top';\n      }\n    }\n\n    if (name === 'left') {\n      return page.x < (width >= 0 ? rect.left : rect.right) + margin;\n    }\n    if (name === 'top') {\n      return page.y < (height >= 0 ? rect.top : rect.bottom) + margin;\n    }\n\n    if (name === 'right') {\n      return page.x > (width >= 0 ? rect.right : rect.left) - margin;\n    }\n    if (name === 'bottom') {\n      return page.y > (height >= 0 ? rect.bottom : rect.top) - margin;\n    }\n  }\n\n  // the remaining checks require an element\n  if (!utils.is.element(element)) {\n    return false;\n  }\n\n  return utils.is.element(value)\n  // the value is an element to use as a resize handle\n  ? value === element\n  // otherwise check if element matches value as selector\n  : utils.matchesUpTo(element, value, interactableElement);\n}\n\nInteraction.signals.on('new', function (interaction) {\n  interaction.resizeAxes = 'xy';\n});\n\nInteractEvent.signals.on('set-delta', function (_ref3) {\n  var interaction = _ref3.interaction,\n      iEvent = _ref3.iEvent,\n      action = _ref3.action;\n\n  if (action !== 'resize' || !interaction.resizeAxes) {\n    return;\n  }\n\n  var options = interaction.target.options;\n\n  if (options.resize.square) {\n    if (interaction.resizeAxes === 'y') {\n      iEvent.dx = iEvent.dy;\n    } else {\n      iEvent.dy = iEvent.dx;\n    }\n    iEvent.axes = 'xy';\n  } else {\n    iEvent.axes = interaction.resizeAxes;\n\n    if (interaction.resizeAxes === 'x') {\n      iEvent.dy = 0;\n    } else if (interaction.resizeAxes === 'y') {\n      iEvent.dx = 0;\n    }\n  }\n});\n\nactions.resize = resize;\nactions.names.push('resize');\nutils.merge(Interactable.eventTypes, ['resizestart', 'resizemove', 'resizeinertiastart', 'resizeinertiaresume', 'resizeend']);\nactions.methodDict.resize = 'resizable';\n\ndefaultOptions.resize = resize.defaults;\n\nmodule.exports = resize;\n\n},{\"../InteractEvent\":3,\"../Interactable\":4,\"../Interaction\":5,\"../defaultOptions\":18,\"../utils\":44,\"../utils/browser\":36,\"./base\":6}],11:[function(require,module,exports){\n'use strict';\n\nvar raf = require('./utils/raf');\nvar getWindow = require('./utils/window').getWindow;\nvar is = require('./utils/is');\nvar domUtils = require('./utils/domUtils');\nvar Interaction = require('./Interaction');\nvar defaultOptions = require('./defaultOptions');\n\nvar autoScroll = {\n  defaults: {\n    enabled: false,\n    container: null, // the item that is scrolled (Window or HTMLElement)\n    margin: 60,\n    speed: 300 // the scroll speed in pixels per second\n  },\n\n  interaction: null,\n  i: null, // the handle returned by window.setInterval\n  x: 0, y: 0, // Direction each pulse is to scroll in\n\n  isScrolling: false,\n  prevTime: 0,\n\n  start: function start(interaction) {\n    autoScroll.isScrolling = true;\n    raf.cancel(autoScroll.i);\n\n    autoScroll.interaction = interaction;\n    autoScroll.prevTime = new Date().getTime();\n    autoScroll.i = raf.request(autoScroll.scroll);\n  },\n\n  stop: function stop() {\n    autoScroll.isScrolling = false;\n    raf.cancel(autoScroll.i);\n  },\n\n  // scroll the window by the values in scroll.x/y\n  scroll: function scroll() {\n    var options = autoScroll.interaction.target.options[autoScroll.interaction.prepared.name].autoScroll;\n    var container = options.container || getWindow(autoScroll.interaction.element);\n    var now = new Date().getTime();\n    // change in time in seconds\n    var dt = (now - autoScroll.prevTime) / 1000;\n    // displacement\n    var s = options.speed * dt;\n\n    if (s >= 1) {\n      if (is.window(container)) {\n        container.scrollBy(autoScroll.x * s, autoScroll.y * s);\n      } else if (container) {\n        container.scrollLeft += autoScroll.x * s;\n        container.scrollTop += autoScroll.y * s;\n      }\n\n      autoScroll.prevTime = now;\n    }\n\n    if (autoScroll.isScrolling) {\n      raf.cancel(autoScroll.i);\n      autoScroll.i = raf.request(autoScroll.scroll);\n    }\n  },\n  check: function check(interactable, actionName) {\n    var options = interactable.options;\n\n    return options[actionName].autoScroll && options[actionName].autoScroll.enabled;\n  },\n  onInteractionMove: function onInteractionMove(_ref) {\n    var interaction = _ref.interaction,\n        pointer = _ref.pointer;\n\n    if (!(interaction.interacting() && autoScroll.check(interaction.target, interaction.prepared.name))) {\n      return;\n    }\n\n    if (interaction.simulation) {\n      autoScroll.x = autoScroll.y = 0;\n      return;\n    }\n\n    var top = void 0;\n    var right = void 0;\n    var bottom = void 0;\n    var left = void 0;\n\n    var options = interaction.target.options[interaction.prepared.name].autoScroll;\n    var container = options.container || getWindow(interaction.element);\n\n    if (is.window(container)) {\n      left = pointer.clientX < autoScroll.margin;\n      top = pointer.clientY < autoScroll.margin;\n      right = pointer.clientX > container.innerWidth - autoScroll.margin;\n      bottom = pointer.clientY > container.innerHeight - autoScroll.margin;\n    } else {\n      var rect = domUtils.getElementClientRect(container);\n\n      left = pointer.clientX < rect.left + autoScroll.margin;\n      top = pointer.clientY < rect.top + autoScroll.margin;\n      right = pointer.clientX > rect.right - autoScroll.margin;\n      bottom = pointer.clientY > rect.bottom - autoScroll.margin;\n    }\n\n    autoScroll.x = right ? 1 : left ? -1 : 0;\n    autoScroll.y = bottom ? 1 : top ? -1 : 0;\n\n    if (!autoScroll.isScrolling) {\n      // set the autoScroll properties to those of the target\n      autoScroll.margin = options.margin;\n      autoScroll.speed = options.speed;\n\n      autoScroll.start(interaction);\n    }\n  }\n};\n\nInteraction.signals.on('stop-active', function () {\n  autoScroll.stop();\n});\n\nInteraction.signals.on('action-move', autoScroll.onInteractionMove);\n\ndefaultOptions.perAction.autoScroll = autoScroll.defaults;\n\nmodule.exports = autoScroll;\n\n},{\"./Interaction\":5,\"./defaultOptions\":18,\"./utils/domUtils\":39,\"./utils/is\":46,\"./utils/raf\":50,\"./utils/window\":52}],12:[function(require,module,exports){\n'use strict';\n\n/** @lends Interactable */\nvar Interactable = require('../Interactable');\nvar actions = require('../actions/base');\nvar is = require('../utils/is');\nvar domUtils = require('../utils/domUtils');\n\nvar _require = require('../utils'),\n    warnOnce = _require.warnOnce;\n\nInteractable.prototype.getAction = function (pointer, event, interaction, element) {\n  var action = this.defaultActionChecker(pointer, event, interaction, element);\n\n  if (this.options.actionChecker) {\n    return this.options.actionChecker(pointer, event, action, this, element, interaction);\n  }\n\n  return action;\n};\n\n/**\n * ```js\n * interact(element, { ignoreFrom: document.getElementById('no-action') });\n * // or\n * interact(element).ignoreFrom('input, textarea, a');\n * ```\n * @deprecated\n * If the target of the `mousedown`, `pointerdown` or `touchstart` event or any\n * of it's parents match the given CSS selector or Element, no\n * drag/resize/gesture is started.\n *\n * Don't use this method. Instead set the `ignoreFrom` option for each action\n * or for `pointerEvents`\n *\n * @example\n * interact(targett)\n *   .draggable({\n *     ignoreFrom: 'input, textarea, a[href]'',\n *   })\n *   .pointerEvents({\n *     ignoreFrom: '[no-pointer]',\n *   });\n *\n * @param {string | Element | null} [newValue] a CSS selector string, an\n * Element or `null` to not ignore any elements\n * @return {string | Element | object} The current ignoreFrom value or this\n * Interactable\n */\nInteractable.prototype.ignoreFrom = warnOnce(function (newValue) {\n  return this._backCompatOption('ignoreFrom', newValue);\n}, 'Interactable.ignoreForm() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue}).');\n\n/**\n * ```js\n *\n * @deprecated\n * A drag/resize/gesture is started only If the target of the `mousedown`,\n * `pointerdown` or `touchstart` event or any of it's parents match the given\n * CSS selector or Element.\n *\n * Don't use this method. Instead set the `allowFrom` option for each action\n * or for `pointerEvents`\n *\n * @example\n * interact(targett)\n *   .resizable({\n *     allowFrom: '.resize-handle',\n *   .pointerEvents({\n *     allowFrom: '.handle',,\n *   });\n *\n * @param {string | Element | null} [newValue] a CSS selector string, an\n * Element or `null` to allow from any element\n * @return {string | Element | object} The current allowFrom value or this\n * Interactable\n */\nInteractable.prototype.allowFrom = warnOnce(function (newValue) {\n  return this._backCompatOption('allowFrom', newValue);\n}, 'Interactable.allowForm() has been deprecated. Use Interactble.draggable({allowFrom: newValue}).');\n\nInteractable.prototype.testIgnore = function (ignoreFrom, interactableElement, element) {\n  if (!ignoreFrom || !is.element(element)) {\n    return false;\n  }\n\n  if (is.string(ignoreFrom)) {\n    return domUtils.matchesUpTo(element, ignoreFrom, interactableElement);\n  } else if (is.element(ignoreFrom)) {\n    return domUtils.nodeContains(ignoreFrom, element);\n  }\n\n  return false;\n};\n\nInteractable.prototype.testAllow = function (allowFrom, interactableElement, element) {\n  if (!allowFrom) {\n    return true;\n  }\n\n  if (!is.element(element)) {\n    return false;\n  }\n\n  if (is.string(allowFrom)) {\n    return domUtils.matchesUpTo(element, allowFrom, interactableElement);\n  } else if (is.element(allowFrom)) {\n    return domUtils.nodeContains(allowFrom, element);\n  }\n\n  return false;\n};\n\nInteractable.prototype.testIgnoreAllow = function (options, interactableElement, eventTarget) {\n  return !this.testIgnore(options.ignoreFrom, interactableElement, eventTarget) && this.testAllow(options.allowFrom, interactableElement, eventTarget);\n};\n\n/**\n * ```js\n * interact('.resize-drag')\n *   .resizable(true)\n *   .draggable(true)\n *   .actionChecker(function (pointer, event, action, interactable, element, interaction) {\n *\n *   if (interact.matchesSelector(event.target, '.drag-handle') {\n *     // force drag with handle target\n *     action.name = drag;\n *   }\n *   else {\n *     // resize from the top and right edges\n *     action.name  = 'resize';\n *     action.edges = { top: true, right: true };\n *   }\n *\n *   return action;\n * });\n * ```\n *\n * Gets or sets the function used to check action to be performed on\n * pointerDown\n *\n * @param {function | null} [checker] A function which takes a pointer event,\n * defaultAction string, interactable, element and interaction as parameters\n * and returns an object with name property 'drag' 'resize' or 'gesture' and\n * optionally an `edges` object with boolean 'top', 'left', 'bottom' and right\n * props.\n * @return {Function | Interactable} The checker function or this Interactable\n */\nInteractable.prototype.actionChecker = function (checker) {\n  if (is.function(checker)) {\n    this.options.actionChecker = checker;\n\n    return this;\n  }\n\n  if (checker === null) {\n    delete this.options.actionChecker;\n\n    return this;\n  }\n\n  return this.options.actionChecker;\n};\n\n/**\n * Returns or sets whether the the cursor should be changed depending on the\n * action that would be performed if the mouse were pressed and dragged.\n *\n * @param {boolean} [newValue]\n * @return {boolean | Interactable} The current setting or this Interactable\n */\nInteractable.prototype.styleCursor = function (newValue) {\n  if (is.bool(newValue)) {\n    this.options.styleCursor = newValue;\n\n    return this;\n  }\n\n  if (newValue === null) {\n    delete this.options.styleCursor;\n\n    return this;\n  }\n\n  return this.options.styleCursor;\n};\n\nInteractable.prototype.defaultActionChecker = function (pointer, event, interaction, element) {\n  var rect = this.getRect(element);\n  var buttons = event.buttons || {\n    0: 1,\n    1: 4,\n    3: 8,\n    4: 16\n  }[event.button];\n  var action = null;\n\n  for (var _i = 0; _i < actions.names.length; _i++) {\n    var _ref;\n\n    _ref = actions.names[_i];\n    var actionName = _ref;\n\n    // check mouseButton setting if the pointer is down\n    if (interaction.pointerIsDown && /mouse|pointer/.test(interaction.pointerType) && (buttons & this.options[actionName].mouseButtons) === 0) {\n      continue;\n    }\n\n    action = actions[actionName].checker(pointer, event, this, element, interaction, rect);\n\n    if (action) {\n      return action;\n    }\n  }\n};\n\n},{\"../Interactable\":4,\"../actions/base\":6,\"../utils\":44,\"../utils/domUtils\":39,\"../utils/is\":46}],13:[function(require,module,exports){\n'use strict';\n\nvar interact = require('../interact');\nvar Interactable = require('../Interactable');\nvar Interaction = require('../Interaction');\nvar actions = require('../actions/base');\nvar defaultOptions = require('../defaultOptions');\nvar scope = require('../scope');\nvar utils = require('../utils');\nvar signals = require('../utils/Signals').new();\n\nrequire('./InteractableMethods');\n\nvar autoStart = {\n  signals: signals,\n  withinInteractionLimit: withinInteractionLimit,\n  // Allow this many interactions to happen simultaneously\n  maxInteractions: Infinity,\n  defaults: {\n    perAction: {\n      manualStart: false,\n      max: Infinity,\n      maxPerElement: 1,\n      allowFrom: null,\n      ignoreFrom: null,\n\n      // only allow left button by default\n      // see https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/buttons#Return_value\n      mouseButtons: 1\n    }\n  },\n  setActionDefaults: function setActionDefaults(action) {\n    utils.extend(action.defaults, autoStart.defaults.perAction);\n  },\n  validateAction: validateAction\n};\n\n// set cursor style on mousedown\nInteraction.signals.on('down', function (_ref) {\n  var interaction = _ref.interaction,\n      pointer = _ref.pointer,\n      event = _ref.event,\n      eventTarget = _ref.eventTarget;\n\n  if (interaction.interacting()) {\n    return;\n  }\n\n  var actionInfo = getActionInfo(interaction, pointer, event, eventTarget);\n  prepare(interaction, actionInfo);\n});\n\n// set cursor style on mousemove\nInteraction.signals.on('move', function (_ref2) {\n  var interaction = _ref2.interaction,\n      pointer = _ref2.pointer,\n      event = _ref2.event,\n      eventTarget = _ref2.eventTarget;\n\n  if (interaction.pointerType !== 'mouse' || interaction.pointerIsDown || interaction.interacting()) {\n    return;\n  }\n\n  var actionInfo = getActionInfo(interaction, pointer, event, eventTarget);\n  prepare(interaction, actionInfo);\n});\n\nInteraction.signals.on('move', function (arg) {\n  var interaction = arg.interaction,\n      event = arg.event;\n\n\n  if (!interaction.pointerIsDown || interaction.interacting() || !interaction.pointerWasMoved || !interaction.prepared.name) {\n    return;\n  }\n\n  signals.fire('before-start', arg);\n\n  var target = interaction.target;\n\n  if (interaction.prepared.name && target) {\n    // check manualStart and interaction limit\n    if (target.options[interaction.prepared.name].manualStart || !withinInteractionLimit(target, interaction.element, interaction.prepared)) {\n      interaction.stop(event);\n    } else {\n      interaction.start(interaction.prepared, target, interaction.element);\n    }\n  }\n});\n\n// Check if the current target supports the action.\n// If so, return the validated action. Otherwise, return null\nfunction validateAction(action, interactable, element, eventTarget) {\n  if (utils.is.object(action) && interactable.testIgnoreAllow(interactable.options[action.name], element, eventTarget) && interactable.options[action.name].enabled && withinInteractionLimit(interactable, element, action)) {\n    return action;\n  }\n\n  return null;\n}\n\nfunction validateSelector(interaction, pointer, event, matches, matchElements, eventTarget) {\n  for (var i = 0, len = matches.length; i < len; i++) {\n    var match = matches[i];\n    var matchElement = matchElements[i];\n    var action = validateAction(match.getAction(pointer, event, interaction, matchElement), match, matchElement, eventTarget);\n\n    if (action) {\n      return {\n        action: action,\n        target: match,\n        element: matchElement\n      };\n    }\n  }\n\n  return {};\n}\n\nfunction getActionInfo(interaction, pointer, event, eventTarget) {\n  var matches = [];\n  var matchElements = [];\n\n  var element = eventTarget;\n\n  function pushMatches(interactable) {\n    matches.push(interactable);\n    matchElements.push(element);\n  }\n\n  while (utils.is.element(element)) {\n    matches = [];\n    matchElements = [];\n\n    scope.interactables.forEachMatch(element, pushMatches);\n\n    var actionInfo = validateSelector(interaction, pointer, event, matches, matchElements, eventTarget);\n\n    if (actionInfo.action && !actionInfo.target.options[actionInfo.action.name].manualStart) {\n      return actionInfo;\n    }\n\n    element = utils.parentNode(element);\n  }\n\n  return {};\n}\n\nfunction prepare(interaction, _ref3) {\n  var action = _ref3.action,\n      target = _ref3.target,\n      element = _ref3.element;\n\n  action = action || {};\n\n  if (interaction.target && interaction.target.options.styleCursor) {\n    interaction.target._doc.documentElement.style.cursor = '';\n  }\n\n  interaction.target = target;\n  interaction.element = element;\n  utils.copyAction(interaction.prepared, action);\n\n  if (target && target.options.styleCursor) {\n    var cursor = action ? actions[action.name].getCursor(action) : '';\n    interaction.target._doc.documentElement.style.cursor = cursor;\n  }\n\n  signals.fire('prepared', { interaction: interaction });\n}\n\nInteraction.signals.on('stop', function (_ref4) {\n  var interaction = _ref4.interaction;\n\n  var target = interaction.target;\n\n  if (target && target.options.styleCursor) {\n    target._doc.documentElement.style.cursor = '';\n  }\n});\n\nfunction withinInteractionLimit(interactable, element, action) {\n  var options = interactable.options;\n  var maxActions = options[action.name].max;\n  var maxPerElement = options[action.name].maxPerElement;\n  var activeInteractions = 0;\n  var targetCount = 0;\n  var targetElementCount = 0;\n\n  // no actions if any of these values == 0\n  if (!(maxActions && maxPerElement && autoStart.maxInteractions)) {\n    return;\n  }\n\n  for (var _i = 0; _i < scope.interactions.length; _i++) {\n    var _ref5;\n\n    _ref5 = scope.interactions[_i];\n    var interaction = _ref5;\n\n    var otherAction = interaction.prepared.name;\n\n    if (!interaction.interacting()) {\n      continue;\n    }\n\n    activeInteractions++;\n\n    if (activeInteractions >= autoStart.maxInteractions) {\n      return false;\n    }\n\n    if (interaction.target !== interactable) {\n      continue;\n    }\n\n    targetCount += otherAction === action.name | 0;\n\n    if (targetCount >= maxActions) {\n      return false;\n    }\n\n    if (interaction.element === element) {\n      targetElementCount++;\n\n      if (otherAction !== action.name || targetElementCount >= maxPerElement) {\n        return false;\n      }\n    }\n  }\n\n  return autoStart.maxInteractions > 0;\n}\n\n/**\n * Returns or sets the maximum number of concurrent interactions allowed.  By\n * default only 1 interaction is allowed at a time (for backwards\n * compatibility). To allow multiple interactions on the same Interactables and\n * elements, you need to enable it in the draggable, resizable and gesturable\n * `'max'` and `'maxPerElement'` options.\n *\n * @alias module:interact.maxInteractions\n *\n * @param {number} [newValue] Any number. newValue <= 0 means no interactions.\n */\ninteract.maxInteractions = function (newValue) {\n  if (utils.is.number(newValue)) {\n    autoStart.maxInteractions = newValue;\n\n    return interact;\n  }\n\n  return autoStart.maxInteractions;\n};\n\nInteractable.settingsMethods.push('styleCursor');\nInteractable.settingsMethods.push('actionChecker');\nInteractable.settingsMethods.push('ignoreFrom');\nInteractable.settingsMethods.push('allowFrom');\n\ndefaultOptions.base.actionChecker = null;\ndefaultOptions.base.styleCursor = true;\n\nutils.extend(defaultOptions.perAction, autoStart.defaults.perAction);\n\nmodule.exports = autoStart;\n\n},{\"../Interactable\":4,\"../Interaction\":5,\"../actions/base\":6,\"../defaultOptions\":18,\"../interact\":21,\"../scope\":33,\"../utils\":44,\"../utils/Signals\":34,\"./InteractableMethods\":12}],14:[function(require,module,exports){\n'use strict';\n\nvar autoStart = require('./base');\nvar scope = require('../scope');\nvar is = require('../utils/is');\n\nvar _require = require('../utils/domUtils'),\n    parentNode = _require.parentNode;\n\nautoStart.setActionDefaults(require('../actions/drag'));\n\nautoStart.signals.on('before-start', function (_ref) {\n  var interaction = _ref.interaction,\n      eventTarget = _ref.eventTarget,\n      dx = _ref.dx,\n      dy = _ref.dy;\n\n  if (interaction.prepared.name !== 'drag') {\n    return;\n  }\n\n  // check if a drag is in the correct axis\n  var absX = Math.abs(dx);\n  var absY = Math.abs(dy);\n  var targetOptions = interaction.target.options.drag;\n  var startAxis = targetOptions.startAxis;\n  var currentAxis = absX > absY ? 'x' : absX < absY ? 'y' : 'xy';\n\n  interaction.prepared.axis = targetOptions.lockAxis === 'start' ? currentAxis[0] // always lock to one axis even if currentAxis === 'xy'\n  : targetOptions.lockAxis;\n\n  // if the movement isn't in the startAxis of the interactable\n  if (currentAxis !== 'xy' && startAxis !== 'xy' && startAxis !== currentAxis) {\n    // cancel the prepared action\n    interaction.prepared.name = null;\n\n    // then try to get a drag from another ineractable\n    var element = eventTarget;\n\n    var getDraggable = function getDraggable(interactable) {\n      if (interactable === interaction.target) {\n        return;\n      }\n\n      var options = interaction.target.options.drag;\n\n      if (!options.manualStart && interactable.testIgnoreAllow(options, element, eventTarget)) {\n\n        var action = interactable.getAction(interaction.downPointer, interaction.downEvent, interaction, element);\n\n        if (action && action.name === 'drag' && checkStartAxis(currentAxis, interactable) && autoStart.validateAction(action, interactable, element, eventTarget)) {\n\n          return interactable;\n        }\n      }\n    };\n\n    // check all interactables\n    while (is.element(element)) {\n      var interactable = scope.interactables.forEachMatch(element, getDraggable);\n\n      if (interactable) {\n        interaction.prepared.name = 'drag';\n        interaction.target = interactable;\n        interaction.element = element;\n        break;\n      }\n\n      element = parentNode(element);\n    }\n  }\n});\n\nfunction checkStartAxis(startAxis, interactable) {\n  if (!interactable) {\n    return false;\n  }\n\n  var thisAxis = interactable.options.drag.startAxis;\n\n  return startAxis === 'xy' || thisAxis === 'xy' || thisAxis === startAxis;\n}\n\n},{\"../actions/drag\":7,\"../scope\":33,\"../utils/domUtils\":39,\"../utils/is\":46,\"./base\":13}],15:[function(require,module,exports){\n'use strict';\n\nrequire('./base').setActionDefaults(require('../actions/gesture'));\n\n},{\"../actions/gesture\":9,\"./base\":13}],16:[function(require,module,exports){\n'use strict';\n\nvar autoStart = require('./base');\nvar Interaction = require('../Interaction');\n\nautoStart.defaults.perAction.hold = 0;\nautoStart.defaults.perAction.delay = 0;\n\nInteraction.signals.on('new', function (interaction) {\n  interaction.autoStartHoldTimer = null;\n});\n\nautoStart.signals.on('prepared', function (_ref) {\n  var interaction = _ref.interaction;\n\n  var hold = getHoldDuration(interaction);\n\n  if (hold > 0) {\n    interaction.autoStartHoldTimer = setTimeout(function () {\n      interaction.start(interaction.prepared, interaction.target, interaction.element);\n    }, hold);\n  }\n});\n\nInteraction.signals.on('move', function (_ref2) {\n  var interaction = _ref2.interaction,\n      duplicate = _ref2.duplicate;\n\n  if (interaction.pointerWasMoved && !duplicate) {\n    clearTimeout(interaction.autoStartHoldTimer);\n  }\n});\n\n// prevent regular down->move autoStart\nautoStart.signals.on('before-start', function (_ref3) {\n  var interaction = _ref3.interaction;\n\n  var hold = getHoldDuration(interaction);\n\n  if (hold > 0) {\n    interaction.prepared.name = null;\n  }\n});\n\nfunction getHoldDuration(interaction) {\n  var actionName = interaction.prepared && interaction.prepared.name;\n\n  if (!actionName) {\n    return null;\n  }\n\n  var options = interaction.target.options;\n\n  return options[actionName].hold || options[actionName].delay;\n}\n\nmodule.exports = {\n  getHoldDuration: getHoldDuration\n};\n\n},{\"../Interaction\":5,\"./base\":13}],17:[function(require,module,exports){\n'use strict';\n\nrequire('./base').setActionDefaults(require('../actions/resize'));\n\n},{\"../actions/resize\":10,\"./base\":13}],18:[function(require,module,exports){\n'use strict';\n\nmodule.exports = {\n  base: {\n    accept: null,\n    preventDefault: 'auto',\n    deltaSource: 'page'\n  },\n\n  perAction: {\n    origin: { x: 0, y: 0 },\n\n    inertia: {\n      enabled: false,\n      resistance: 10, // the lambda in exponential decay\n      minSpeed: 100, // target speed must be above this for inertia to start\n      endSpeed: 10, // the speed at which inertia is slow enough to stop\n      allowResume: true, // allow resuming an action in inertia phase\n      smoothEndDuration: 300 // animate to snap/restrict endOnly if there's no inertia\n    }\n  }\n};\n\n},{}],19:[function(require,module,exports){\n'use strict';\n\n/* browser entry point */\n\n// inertia\nrequire('./inertia');\n\n// modifiers\nrequire('./modifiers/snap');\nrequire('./modifiers/restrict');\n\n// pointerEvents\nrequire('./pointerEvents/base');\nrequire('./pointerEvents/holdRepeat');\nrequire('./pointerEvents/interactableTargets');\n\n// autoStart hold\nrequire('./autoStart/hold');\n\n// actions\nrequire('./actions/gesture');\nrequire('./actions/resize');\nrequire('./actions/drag');\nrequire('./actions/drop');\n\n// load these modifiers after resize is loaded\nrequire('./modifiers/snapSize');\nrequire('./modifiers/restrictEdges');\nrequire('./modifiers/restrictSize');\n\n// autoStart actions\nrequire('./autoStart/gesture');\nrequire('./autoStart/resize');\nrequire('./autoStart/drag');\n\n// Interactable preventDefault setting\nrequire('./interactablePreventDefault.js');\n\n// autoScroll\nrequire('./autoScroll');\n\n// export interact\nmodule.exports = require('./interact');\n\n},{\"./actions/drag\":7,\"./actions/drop\":8,\"./actions/gesture\":9,\"./actions/resize\":10,\"./autoScroll\":11,\"./autoStart/drag\":14,\"./autoStart/gesture\":15,\"./autoStart/hold\":16,\"./autoStart/resize\":17,\"./inertia\":20,\"./interact\":21,\"./interactablePreventDefault.js\":22,\"./modifiers/restrict\":24,\"./modifiers/restrictEdges\":25,\"./modifiers/restrictSize\":26,\"./modifiers/snap\":27,\"./modifiers/snapSize\":28,\"./pointerEvents/base\":30,\"./pointerEvents/holdRepeat\":31,\"./pointerEvents/interactableTargets\":32}],20:[function(require,module,exports){\n'use strict';\n\nvar InteractEvent = require('./InteractEvent');\nvar Interaction = require('./Interaction');\nvar modifiers = require('./modifiers/base');\nvar utils = require('./utils');\nvar animationFrame = require('./utils/raf');\n\nInteraction.signals.on('new', function (interaction) {\n  interaction.inertiaStatus = {\n    active: false,\n    smoothEnd: false,\n    allowResume: false,\n\n    startEvent: null,\n    upCoords: {},\n\n    xe: 0, ye: 0,\n    sx: 0, sy: 0,\n\n    t0: 0,\n    vx0: 0, vys: 0,\n    duration: 0,\n\n    lambda_v0: 0,\n    one_ve_v0: 0,\n    i: null\n  };\n\n  interaction.boundInertiaFrame = function () {\n    return inertiaFrame.apply(interaction);\n  };\n  interaction.boundSmoothEndFrame = function () {\n    return smoothEndFrame.apply(interaction);\n  };\n});\n\nInteraction.signals.on('down', function (_ref) {\n  var interaction = _ref.interaction,\n      event = _ref.event,\n      pointer = _ref.pointer,\n      eventTarget = _ref.eventTarget;\n\n  var status = interaction.inertiaStatus;\n\n  // Check if the down event hits the current inertia target\n  if (status.active) {\n    var element = eventTarget;\n\n    // climb up the DOM tree from the event target\n    while (utils.is.element(element)) {\n\n      // if interaction element is the current inertia target element\n      if (element === interaction.element) {\n        // stop inertia\n        animationFrame.cancel(status.i);\n        status.active = false;\n        interaction.simulation = null;\n\n        // update pointers to the down event's coordinates\n        interaction.updatePointer(pointer);\n        utils.setCoords(interaction.curCoords, interaction.pointers);\n\n        // fire appropriate signals\n        var signalArg = { interaction: interaction };\n        Interaction.signals.fire('before-action-move', signalArg);\n        Interaction.signals.fire('action-resume', signalArg);\n\n        // fire a reume event\n        var resumeEvent = new InteractEvent(interaction, event, interaction.prepared.name, 'inertiaresume', interaction.element);\n\n        interaction.target.fire(resumeEvent);\n        interaction.prevEvent = resumeEvent;\n        modifiers.resetStatuses(interaction.modifierStatuses);\n\n        utils.copyCoords(interaction.prevCoords, interaction.curCoords);\n        break;\n      }\n\n      element = utils.parentNode(element);\n    }\n  }\n});\n\nInteraction.signals.on('up', function (_ref2) {\n  var interaction = _ref2.interaction,\n      event = _ref2.event;\n\n  var status = interaction.inertiaStatus;\n\n  if (!interaction.interacting() || status.active) {\n    return;\n  }\n\n  var target = interaction.target;\n  var options = target && target.options;\n  var inertiaOptions = options && interaction.prepared.name && options[interaction.prepared.name].inertia;\n\n  var now = new Date().getTime();\n  var statuses = {};\n  var page = utils.extend({}, interaction.curCoords.page);\n  var pointerSpeed = interaction.pointerDelta.client.speed;\n\n  var smoothEnd = false;\n  var modifierResult = void 0;\n\n  // check if inertia should be started\n  var inertiaPossible = inertiaOptions && inertiaOptions.enabled && interaction.prepared.name !== 'gesture' && event !== status.startEvent;\n\n  var inertia = inertiaPossible && now - interaction.curCoords.timeStamp < 50 && pointerSpeed > inertiaOptions.minSpeed && pointerSpeed > inertiaOptions.endSpeed;\n\n  var modifierArg = {\n    interaction: interaction,\n    pageCoords: page,\n    statuses: statuses,\n    preEnd: true,\n    requireEndOnly: true\n  };\n\n  // smoothEnd\n  if (inertiaPossible && !inertia) {\n    modifiers.resetStatuses(statuses);\n\n    modifierResult = modifiers.setAll(modifierArg);\n\n    if (modifierResult.shouldMove && modifierResult.locked) {\n      smoothEnd = true;\n    }\n  }\n\n  if (!(inertia || smoothEnd)) {\n    return;\n  }\n\n  utils.copyCoords(status.upCoords, interaction.curCoords);\n\n  interaction.pointers[0] = status.startEvent = new InteractEvent(interaction, event, interaction.prepared.name, 'inertiastart', interaction.element);\n\n  status.t0 = now;\n\n  status.active = true;\n  status.allowResume = inertiaOptions.allowResume;\n  interaction.simulation = status;\n\n  target.fire(status.startEvent);\n\n  if (inertia) {\n    status.vx0 = interaction.pointerDelta.client.vx;\n    status.vy0 = interaction.pointerDelta.client.vy;\n    status.v0 = pointerSpeed;\n\n    calcInertia(interaction, status);\n\n    utils.extend(page, interaction.curCoords.page);\n\n    page.x += status.xe;\n    page.y += status.ye;\n\n    modifiers.resetStatuses(statuses);\n\n    modifierResult = modifiers.setAll(modifierArg);\n\n    status.modifiedXe += modifierResult.dx;\n    status.modifiedYe += modifierResult.dy;\n\n    status.i = animationFrame.request(interaction.boundInertiaFrame);\n  } else {\n    status.smoothEnd = true;\n    status.xe = modifierResult.dx;\n    status.ye = modifierResult.dy;\n\n    status.sx = status.sy = 0;\n\n    status.i = animationFrame.request(interaction.boundSmoothEndFrame);\n  }\n});\n\nInteraction.signals.on('stop-active', function (_ref3) {\n  var interaction = _ref3.interaction;\n\n  var status = interaction.inertiaStatus;\n\n  if (status.active) {\n    animationFrame.cancel(status.i);\n    status.active = false;\n    interaction.simulation = null;\n  }\n});\n\nfunction calcInertia(interaction, status) {\n  var inertiaOptions = interaction.target.options[interaction.prepared.name].inertia;\n  var lambda = inertiaOptions.resistance;\n  var inertiaDur = -Math.log(inertiaOptions.endSpeed / status.v0) / lambda;\n\n  status.x0 = interaction.prevEvent.pageX;\n  status.y0 = interaction.prevEvent.pageY;\n  status.t0 = status.startEvent.timeStamp / 1000;\n  status.sx = status.sy = 0;\n\n  status.modifiedXe = status.xe = (status.vx0 - inertiaDur) / lambda;\n  status.modifiedYe = status.ye = (status.vy0 - inertiaDur) / lambda;\n  status.te = inertiaDur;\n\n  status.lambda_v0 = lambda / status.v0;\n  status.one_ve_v0 = 1 - inertiaOptions.endSpeed / status.v0;\n}\n\nfunction inertiaFrame() {\n  updateInertiaCoords(this);\n  utils.setCoordDeltas(this.pointerDelta, this.prevCoords, this.curCoords);\n\n  var status = this.inertiaStatus;\n  var options = this.target.options[this.prepared.name].inertia;\n  var lambda = options.resistance;\n  var t = new Date().getTime() / 1000 - status.t0;\n\n  if (t < status.te) {\n\n    var progress = 1 - (Math.exp(-lambda * t) - status.lambda_v0) / status.one_ve_v0;\n\n    if (status.modifiedXe === status.xe && status.modifiedYe === status.ye) {\n      status.sx = status.xe * progress;\n      status.sy = status.ye * progress;\n    } else {\n      var quadPoint = utils.getQuadraticCurvePoint(0, 0, status.xe, status.ye, status.modifiedXe, status.modifiedYe, progress);\n\n      status.sx = quadPoint.x;\n      status.sy = quadPoint.y;\n    }\n\n    this.doMove();\n\n    status.i = animationFrame.request(this.boundInertiaFrame);\n  } else {\n    status.sx = status.modifiedXe;\n    status.sy = status.modifiedYe;\n\n    this.doMove();\n    this.end(status.startEvent);\n    status.active = false;\n    this.simulation = null;\n  }\n\n  utils.copyCoords(this.prevCoords, this.curCoords);\n}\n\nfunction smoothEndFrame() {\n  updateInertiaCoords(this);\n\n  var status = this.inertiaStatus;\n  var t = new Date().getTime() - status.t0;\n  var duration = this.target.options[this.prepared.name].inertia.smoothEndDuration;\n\n  if (t < duration) {\n    status.sx = utils.easeOutQuad(t, 0, status.xe, duration);\n    status.sy = utils.easeOutQuad(t, 0, status.ye, duration);\n\n    this.pointerMove(status.startEvent, status.startEvent);\n\n    status.i = animationFrame.request(this.boundSmoothEndFrame);\n  } else {\n    status.sx = status.xe;\n    status.sy = status.ye;\n\n    this.pointerMove(status.startEvent, status.startEvent);\n    this.end(status.startEvent);\n\n    status.smoothEnd = status.active = false;\n    this.simulation = null;\n  }\n}\n\nfunction updateInertiaCoords(interaction) {\n  var status = interaction.inertiaStatus;\n\n  // return if inertia isn't running\n  if (!status.active) {\n    return;\n  }\n\n  var pageUp = status.upCoords.page;\n  var clientUp = status.upCoords.client;\n\n  utils.setCoords(interaction.curCoords, [{\n    pageX: pageUp.x + status.sx,\n    pageY: pageUp.y + status.sy,\n    clientX: clientUp.x + status.sx,\n    clientY: clientUp.y + status.sy\n  }]);\n}\n\n},{\"./InteractEvent\":3,\"./Interaction\":5,\"./modifiers/base\":23,\"./utils\":44,\"./utils/raf\":50}],21:[function(require,module,exports){\n'use strict';\n\n/** @module interact */\n\nvar browser = require('./utils/browser');\nvar events = require('./utils/events');\nvar utils = require('./utils');\nvar scope = require('./scope');\nvar Interactable = require('./Interactable');\nvar Interaction = require('./Interaction');\n\nvar globalEvents = {};\n\n/**\n * ```js\n * interact('#draggable').draggable(true);\n *\n * var rectables = interact('rect');\n * rectables\n *   .gesturable(true)\n *   .on('gesturemove', function (event) {\n *       // ...\n *   });\n * ```\n *\n * The methods of this variable can be used to set elements as interactables\n * and also to change various default settings.\n *\n * Calling it as a function and passing an element or a valid CSS selector\n * string returns an Interactable object which has various methods to configure\n * it.\n *\n * @global\n *\n * @param {Element | string} element The HTML or SVG Element to interact with\n * or CSS selector\n * @return {Interactable}\n */\nfunction interact(element, options) {\n  var interactable = scope.interactables.get(element, options);\n\n  if (!interactable) {\n    interactable = new Interactable(element, options);\n    interactable.events.global = globalEvents;\n  }\n\n  return interactable;\n}\n\n/**\n * Check if an element or selector has been set with the {@link interact}\n * function\n *\n * @alias module:interact.isSet\n *\n * @param {Element} element The Element being searched for\n * @return {boolean} Indicates if the element or CSS selector was previously\n * passed to interact\n*/\ninteract.isSet = function (element, options) {\n  return scope.interactables.indexOfElement(element, options && options.context) !== -1;\n};\n\n/**\n * Add a global listener for an InteractEvent or adds a DOM event to `document`\n *\n * @alias module:interact.on\n *\n * @param {string | array | object} type The types of events to listen for\n * @param {function} listener The function event (s)\n * @param {object | boolean} [options] object or useCapture flag for\n * addEventListener\n * @return {object} interact\n */\ninteract.on = function (type, listener, options) {\n  if (utils.is.string(type) && type.search(' ') !== -1) {\n    type = type.trim().split(/ +/);\n  }\n\n  if (utils.is.array(type)) {\n    for (var _i = 0; _i < type.length; _i++) {\n      var _ref;\n\n      _ref = type[_i];\n      var eventType = _ref;\n\n      interact.on(eventType, listener, options);\n    }\n\n    return interact;\n  }\n\n  if (utils.is.object(type)) {\n    for (var prop in type) {\n      interact.on(prop, type[prop], listener);\n    }\n\n    return interact;\n  }\n\n  // if it is an InteractEvent type, add listener to globalEvents\n  if (utils.contains(Interactable.eventTypes, type)) {\n    // if this type of event was never bound\n    if (!globalEvents[type]) {\n      globalEvents[type] = [listener];\n    } else {\n      globalEvents[type].push(listener);\n    }\n  }\n  // If non InteractEvent type, addEventListener to document\n  else {\n      events.add(scope.document, type, listener, { options: options });\n    }\n\n  return interact;\n};\n\n/**\n * Removes a global InteractEvent listener or DOM event from `document`\n *\n * @alias module:interact.off\n *\n * @param {string | array | object} type The types of events that were listened\n * for\n * @param {function} listener The listener function to be removed\n * @param {object | boolean} options [options] object or useCapture flag for\n * removeEventListener\n * @return {object} interact\n */\ninteract.off = function (type, listener, options) {\n  if (utils.is.string(type) && type.search(' ') !== -1) {\n    type = type.trim().split(/ +/);\n  }\n\n  if (utils.is.array(type)) {\n    for (var _i2 = 0; _i2 < type.length; _i2++) {\n      var _ref2;\n\n      _ref2 = type[_i2];\n      var eventType = _ref2;\n\n      interact.off(eventType, listener, options);\n    }\n\n    return interact;\n  }\n\n  if (utils.is.object(type)) {\n    for (var prop in type) {\n      interact.off(prop, type[prop], listener);\n    }\n\n    return interact;\n  }\n\n  if (!utils.contains(Interactable.eventTypes, type)) {\n    events.remove(scope.document, type, listener, options);\n  } else {\n    var index = void 0;\n\n    if (type in globalEvents && (index = globalEvents[type].indexOf(listener)) !== -1) {\n      globalEvents[type].splice(index, 1);\n    }\n  }\n\n  return interact;\n};\n\n/**\n * Returns an object which exposes internal data\n\n * @alias module:interact.debug\n *\n * @return {object} An object with properties that outline the current state\n * and expose internal functions and variables\n */\ninteract.debug = function () {\n  return scope;\n};\n\n// expose the functions used to calculate multi-touch properties\ninteract.getPointerAverage = utils.pointerAverage;\ninteract.getTouchBBox = utils.touchBBox;\ninteract.getTouchDistance = utils.touchDistance;\ninteract.getTouchAngle = utils.touchAngle;\n\ninteract.getElementRect = utils.getElementRect;\ninteract.getElementClientRect = utils.getElementClientRect;\ninteract.matchesSelector = utils.matchesSelector;\ninteract.closest = utils.closest;\n\n/**\n * @alias module:interact.supportsTouch\n *\n * @return {boolean} Whether or not the browser supports touch input\n */\ninteract.supportsTouch = function () {\n  return browser.supportsTouch;\n};\n\n/**\n * @alias module:interact.supportsPointerEvent\n *\n * @return {boolean} Whether or not the browser supports PointerEvents\n */\ninteract.supportsPointerEvent = function () {\n  return browser.supportsPointerEvent;\n};\n\n/**\n * Cancels all interactions (end events are not fired)\n *\n * @alias module:interact.stop\n *\n * @param {Event} event An event on which to call preventDefault()\n * @return {object} interact\n */\ninteract.stop = function (event) {\n  for (var i = scope.interactions.length - 1; i >= 0; i--) {\n    scope.interactions[i].stop(event);\n  }\n\n  return interact;\n};\n\n/**\n * Returns or sets the distance the pointer must be moved before an action\n * sequence occurs. This also affects tolerance for tap events.\n *\n * @alias module:interact.pointerMoveTolerance\n *\n * @param {number} [newValue] The movement from the start position must be greater than this value\n * @return {interact | number}\n */\ninteract.pointerMoveTolerance = function (newValue) {\n  if (utils.is.number(newValue)) {\n    Interaction.pointerMoveTolerance = newValue;\n\n    return interact;\n  }\n\n  return Interaction.pointerMoveTolerance;\n};\n\ninteract.addDocument = scope.addDocument;\ninteract.removeDocument = scope.removeDocument;\n\nscope.interact = interact;\n\nmodule.exports = interact;\n\n},{\"./Interactable\":4,\"./Interaction\":5,\"./scope\":33,\"./utils\":44,\"./utils/browser\":36,\"./utils/events\":40}],22:[function(require,module,exports){\n'use strict';\n\nvar Interactable = require('./Interactable');\nvar Interaction = require('./Interaction');\nvar scope = require('./scope');\nvar is = require('./utils/is');\nvar events = require('./utils/events');\nvar browser = require('./utils/browser');\n\nvar _require = require('./utils/domUtils'),\n    nodeContains = _require.nodeContains,\n    matchesSelector = _require.matchesSelector;\n\n/**\n * Returns or sets whether to prevent the browser's default behaviour in\n * response to pointer events. Can be set to:\n *  - `'always'` to always prevent\n *  - `'never'` to never prevent\n *  - `'auto'` to let interact.js try to determine what would be best\n *\n * @param {string} [newValue] `true`, `false` or `'auto'`\n * @return {string | Interactable} The current setting or this Interactable\n */\n\n\nInteractable.prototype.preventDefault = function (newValue) {\n  if (/^(always|never|auto)$/.test(newValue)) {\n    this.options.preventDefault = newValue;\n    return this;\n  }\n\n  if (is.bool(newValue)) {\n    this.options.preventDefault = newValue ? 'always' : 'never';\n    return this;\n  }\n\n  return this.options.preventDefault;\n};\n\nInteractable.prototype.checkAndPreventDefault = function (event) {\n  var setting = this.options.preventDefault;\n\n  if (setting === 'never') {\n    return;\n  }\n\n  if (setting === 'always') {\n    event.preventDefault();\n    return;\n  }\n\n  // setting === 'auto'\n\n  // don't preventDefault of touch{start,move} events if the browser supports passive\n  // events listeners. CSS touch-action and user-selecct should be used instead\n  if (events.supportsPassive && /^touch(start|move)$/.test(event.type) && !browser.isIOS) {\n    return;\n  }\n\n  // don't preventDefault of pointerdown events\n  if (/^(mouse|pointer|touch)*(down|start)/i.test(event.type)) {\n    return;\n  }\n\n  // don't preventDefault on editable elements\n  if (is.element(event.target) && matchesSelector(event.target, 'input,select,textarea,[contenteditable=true],[contenteditable=true] *')) {\n    return;\n  }\n\n  event.preventDefault();\n};\n\nfunction onInteractionEvent(_ref) {\n  var interaction = _ref.interaction,\n      event = _ref.event;\n\n  if (interaction.target) {\n    interaction.target.checkAndPreventDefault(event);\n  }\n}\n\nvar _arr = ['down', 'move', 'up', 'cancel'];\nfor (var _i = 0; _i < _arr.length; _i++) {\n  var eventSignal = _arr[_i];\n  Interaction.signals.on(eventSignal, onInteractionEvent);\n}\n\n// prevent native HTML5 drag on interact.js target elements\nInteraction.docEvents.dragstart = function preventNativeDrag(event) {\n  for (var _i2 = 0; _i2 < scope.interactions.length; _i2++) {\n    var _ref2;\n\n    _ref2 = scope.interactions[_i2];\n    var interaction = _ref2;\n\n\n    if (interaction.element && (interaction.element === event.target || nodeContains(interaction.element, event.target))) {\n\n      interaction.target.checkAndPreventDefault(event);\n      return;\n    }\n  }\n};\n\n},{\"./Interactable\":4,\"./Interaction\":5,\"./scope\":33,\"./utils/browser\":36,\"./utils/domUtils\":39,\"./utils/events\":40,\"./utils/is\":46}],23:[function(require,module,exports){\n'use strict';\n\nvar InteractEvent = require('../InteractEvent');\nvar Interaction = require('../Interaction');\nvar extend = require('../utils/extend');\n\nvar modifiers = {\n  names: [],\n\n  setOffsets: function setOffsets(arg) {\n    var interaction = arg.interaction,\n        page = arg.pageCoords;\n    var target = interaction.target,\n        element = interaction.element,\n        startOffset = interaction.startOffset;\n\n    var rect = target.getRect(element);\n\n    if (rect) {\n      startOffset.left = page.x - rect.left;\n      startOffset.top = page.y - rect.top;\n\n      startOffset.right = rect.right - page.x;\n      startOffset.bottom = rect.bottom - page.y;\n\n      if (!('width' in rect)) {\n        rect.width = rect.right - rect.left;\n      }\n      if (!('height' in rect)) {\n        rect.height = rect.bottom - rect.top;\n      }\n    } else {\n      startOffset.left = startOffset.top = startOffset.right = startOffset.bottom = 0;\n    }\n\n    arg.rect = rect;\n    arg.interactable = target;\n    arg.element = element;\n\n    for (var _i = 0; _i < modifiers.names.length; _i++) {\n      var _ref;\n\n      _ref = modifiers.names[_i];\n      var modifierName = _ref;\n\n      arg.options = target.options[interaction.prepared.name][modifierName];\n\n      if (!arg.options) {\n        continue;\n      }\n\n      interaction.modifierOffsets[modifierName] = modifiers[modifierName].setOffset(arg);\n    }\n  },\n\n  setAll: function setAll(arg) {\n    var interaction = arg.interaction,\n        statuses = arg.statuses,\n        preEnd = arg.preEnd,\n        requireEndOnly = arg.requireEndOnly;\n\n    var result = {\n      dx: 0,\n      dy: 0,\n      changed: false,\n      locked: false,\n      shouldMove: true\n    };\n\n    arg.modifiedCoords = extend({}, arg.pageCoords);\n\n    for (var _i2 = 0; _i2 < modifiers.names.length; _i2++) {\n      var _ref2;\n\n      _ref2 = modifiers.names[_i2];\n      var modifierName = _ref2;\n\n      var modifier = modifiers[modifierName];\n      var options = interaction.target.options[interaction.prepared.name][modifierName];\n\n      if (!shouldDo(options, preEnd, requireEndOnly)) {\n        continue;\n      }\n\n      arg.status = arg.status = statuses[modifierName];\n      arg.options = options;\n      arg.offset = arg.interaction.modifierOffsets[modifierName];\n\n      modifier.set(arg);\n\n      if (arg.status.locked) {\n        arg.modifiedCoords.x += arg.status.dx;\n        arg.modifiedCoords.y += arg.status.dy;\n\n        result.dx += arg.status.dx;\n        result.dy += arg.status.dy;\n\n        result.locked = true;\n      }\n    }\n\n    // a move should be fired if:\n    //  - there are no modifiers enabled,\n    //  - no modifiers are \"locked\" i.e. have changed the pointer's coordinates, or\n    //  - the locked coords have changed since the last pointer move\n    result.shouldMove = !arg.status || !result.locked || arg.status.changed;\n\n    return result;\n  },\n\n  resetStatuses: function resetStatuses(statuses) {\n    for (var _i3 = 0; _i3 < modifiers.names.length; _i3++) {\n      var _ref3;\n\n      _ref3 = modifiers.names[_i3];\n      var modifierName = _ref3;\n\n      var status = statuses[modifierName] || {};\n\n      status.dx = status.dy = 0;\n      status.modifiedX = status.modifiedY = NaN;\n      status.locked = false;\n      status.changed = true;\n\n      statuses[modifierName] = status;\n    }\n\n    return statuses;\n  },\n\n  start: function start(_ref4, signalName) {\n    var interaction = _ref4.interaction;\n\n    var arg = {\n      interaction: interaction,\n      pageCoords: (signalName === 'action-resume' ? interaction.curCoords : interaction.startCoords).page,\n      startOffset: interaction.startOffset,\n      statuses: interaction.modifierStatuses,\n      preEnd: false,\n      requireEndOnly: false\n    };\n\n    modifiers.setOffsets(arg);\n    modifiers.resetStatuses(arg.statuses);\n\n    arg.pageCoords = extend({}, interaction.startCoords.page);\n    interaction.modifierResult = modifiers.setAll(arg);\n  },\n\n  beforeMove: function beforeMove(_ref5) {\n    var interaction = _ref5.interaction,\n        preEnd = _ref5.preEnd,\n        interactingBeforeMove = _ref5.interactingBeforeMove;\n\n    var modifierResult = modifiers.setAll({\n      interaction: interaction,\n      preEnd: preEnd,\n      pageCoords: interaction.curCoords.page,\n      statuses: interaction.modifierStatuses,\n      requireEndOnly: false\n    });\n\n    // don't fire an action move if a modifier would keep the event in the same\n    // cordinates as before\n    if (!modifierResult.shouldMove && interactingBeforeMove) {\n      interaction._dontFireMove = true;\n    }\n\n    interaction.modifierResult = modifierResult;\n  },\n\n  end: function end(_ref6) {\n    var interaction = _ref6.interaction,\n        event = _ref6.event;\n\n    for (var _i4 = 0; _i4 < modifiers.names.length; _i4++) {\n      var _ref7;\n\n      _ref7 = modifiers.names[_i4];\n      var modifierName = _ref7;\n\n      var options = interaction.target.options[interaction.prepared.name][modifierName];\n\n      // if the endOnly option is true for any modifier\n      if (shouldDo(options, true, true)) {\n        // fire a move event at the modified coordinates\n        interaction.doMove({ event: event, preEnd: true });\n        break;\n      }\n    }\n  },\n\n  setXY: function setXY(arg) {\n    var iEvent = arg.iEvent,\n        interaction = arg.interaction;\n\n    var modifierArg = extend({}, arg);\n\n    for (var i = 0; i < modifiers.names.length; i++) {\n      var modifierName = modifiers.names[i];\n      modifierArg.options = interaction.target.options[interaction.prepared.name][modifierName];\n\n      if (!modifierArg.options) {\n        continue;\n      }\n\n      var modifier = modifiers[modifierName];\n\n      modifierArg.status = interaction.modifierStatuses[modifierName];\n\n      iEvent[modifierName] = modifier.modifyCoords(modifierArg);\n    }\n  }\n};\n\nInteraction.signals.on('new', function (interaction) {\n  interaction.startOffset = { left: 0, right: 0, top: 0, bottom: 0 };\n  interaction.modifierOffsets = {};\n  interaction.modifierStatuses = modifiers.resetStatuses({});\n  interaction.modifierResult = null;\n});\n\nInteraction.signals.on('action-start', modifiers.start);\nInteraction.signals.on('action-resume', modifiers.start);\nInteraction.signals.on('before-action-move', modifiers.beforeMove);\nInteraction.signals.on('action-end', modifiers.end);\n\nInteractEvent.signals.on('set-xy', modifiers.setXY);\n\nfunction shouldDo(options, preEnd, requireEndOnly) {\n  return options && options.enabled && (preEnd || !options.endOnly) && (!requireEndOnly || options.endOnly);\n}\n\nmodule.exports = modifiers;\n\n},{\"../InteractEvent\":3,\"../Interaction\":5,\"../utils/extend\":41}],24:[function(require,module,exports){\n'use strict';\n\nvar modifiers = require('./base');\nvar utils = require('../utils');\nvar defaultOptions = require('../defaultOptions');\n\nvar restrict = {\n  defaults: {\n    enabled: false,\n    endOnly: false,\n    restriction: null,\n    elementRect: null\n  },\n\n  setOffset: function setOffset(_ref) {\n    var rect = _ref.rect,\n        startOffset = _ref.startOffset,\n        options = _ref.options;\n\n    var elementRect = options && options.elementRect;\n    var offset = {};\n\n    if (rect && elementRect) {\n      offset.left = startOffset.left - rect.width * elementRect.left;\n      offset.top = startOffset.top - rect.height * elementRect.top;\n\n      offset.right = startOffset.right - rect.width * (1 - elementRect.right);\n      offset.bottom = startOffset.bottom - rect.height * (1 - elementRect.bottom);\n    } else {\n      offset.left = offset.top = offset.right = offset.bottom = 0;\n    }\n\n    return offset;\n  },\n\n  set: function set(_ref2) {\n    var modifiedCoords = _ref2.modifiedCoords,\n        interaction = _ref2.interaction,\n        status = _ref2.status,\n        options = _ref2.options;\n\n    if (!options) {\n      return status;\n    }\n\n    var page = status.useStatusXY ? { x: status.x, y: status.y } : utils.extend({}, modifiedCoords);\n\n    var restriction = getRestrictionRect(options.restriction, interaction, page);\n\n    if (!restriction) {\n      return status;\n    }\n\n    status.dx = 0;\n    status.dy = 0;\n    status.locked = false;\n\n    var rect = restriction;\n    var modifiedX = page.x;\n    var modifiedY = page.y;\n\n    var offset = interaction.modifierOffsets.restrict;\n\n    // object is assumed to have\n    // x, y, width, height or\n    // left, top, right, bottom\n    if ('x' in restriction && 'y' in restriction) {\n      modifiedX = Math.max(Math.min(rect.x + rect.width - offset.right, page.x), rect.x + offset.left);\n      modifiedY = Math.max(Math.min(rect.y + rect.height - offset.bottom, page.y), rect.y + offset.top);\n    } else {\n      modifiedX = Math.max(Math.min(rect.right - offset.right, page.x), rect.left + offset.left);\n      modifiedY = Math.max(Math.min(rect.bottom - offset.bottom, page.y), rect.top + offset.top);\n    }\n\n    status.dx = modifiedX - page.x;\n    status.dy = modifiedY - page.y;\n\n    status.changed = status.modifiedX !== modifiedX || status.modifiedY !== modifiedY;\n    status.locked = !!(status.dx || status.dy);\n\n    status.modifiedX = modifiedX;\n    status.modifiedY = modifiedY;\n  },\n\n  modifyCoords: function modifyCoords(_ref3) {\n    var page = _ref3.page,\n        client = _ref3.client,\n        status = _ref3.status,\n        phase = _ref3.phase,\n        options = _ref3.options;\n\n    var elementRect = options && options.elementRect;\n\n    if (options && options.enabled && !(phase === 'start' && elementRect && status.locked)) {\n\n      if (status.locked) {\n        page.x += status.dx;\n        page.y += status.dy;\n        client.x += status.dx;\n        client.y += status.dy;\n\n        return {\n          dx: status.dx,\n          dy: status.dy\n        };\n      }\n    }\n  },\n\n  getRestrictionRect: getRestrictionRect\n};\n\nfunction getRestrictionRect(value, interaction, page) {\n  if (utils.is.function(value)) {\n    return utils.resolveRectLike(value, interaction.target, interaction.element, [page.x, page.y, interaction]);\n  } else {\n    return utils.resolveRectLike(value, interaction.target, interaction.element);\n  }\n}\n\nmodifiers.restrict = restrict;\nmodifiers.names.push('restrict');\n\ndefaultOptions.perAction.restrict = restrict.defaults;\n\nmodule.exports = restrict;\n\n},{\"../defaultOptions\":18,\"../utils\":44,\"./base\":23}],25:[function(require,module,exports){\n'use strict';\n\n// This module adds the options.resize.restrictEdges setting which sets min and\n// max for the top, left, bottom and right edges of the target being resized.\n//\n// interact(target).resize({\n//   edges: { top: true, left: true },\n//   restrictEdges: {\n//     inner: { top: 200, left: 200, right: 400, bottom: 400 },\n//     outer: { top:   0, left:   0, right: 600, bottom: 600 },\n//   },\n// });\n\nvar modifiers = require('./base');\nvar utils = require('../utils');\nvar rectUtils = require('../utils/rect');\nvar defaultOptions = require('../defaultOptions');\nvar resize = require('../actions/resize');\n\nvar _require = require('./restrict'),\n    getRestrictionRect = _require.getRestrictionRect;\n\nvar noInner = { top: +Infinity, left: +Infinity, bottom: -Infinity, right: -Infinity };\nvar noOuter = { top: -Infinity, left: -Infinity, bottom: +Infinity, right: +Infinity };\n\nvar restrictEdges = {\n  defaults: {\n    enabled: false,\n    endOnly: false,\n    min: null,\n    max: null,\n    offset: null\n  },\n\n  setOffset: function setOffset(_ref) {\n    var interaction = _ref.interaction,\n        startOffset = _ref.startOffset,\n        options = _ref.options;\n\n    if (!options) {\n      return utils.extend({}, startOffset);\n    }\n\n    var offset = getRestrictionRect(options.offset, interaction, interaction.startCoords.page);\n\n    if (offset) {\n      return {\n        top: startOffset.top + offset.y,\n        left: startOffset.left + offset.x,\n        bottom: startOffset.bottom + offset.y,\n        right: startOffset.right + offset.x\n      };\n    }\n\n    return startOffset;\n  },\n\n  set: function set(_ref2) {\n    var modifiedCoords = _ref2.modifiedCoords,\n        interaction = _ref2.interaction,\n        status = _ref2.status,\n        offset = _ref2.offset,\n        options = _ref2.options;\n\n    var edges = interaction.prepared.linkedEdges || interaction.prepared.edges;\n\n    if (!interaction.interacting() || !edges) {\n      return;\n    }\n\n    var page = status.useStatusXY ? { x: status.x, y: status.y } : utils.extend({}, modifiedCoords);\n    var inner = rectUtils.xywhToTlbr(getRestrictionRect(options.inner, interaction, page)) || noInner;\n    var outer = rectUtils.xywhToTlbr(getRestrictionRect(options.outer, interaction, page)) || noOuter;\n\n    var modifiedX = page.x;\n    var modifiedY = page.y;\n\n    status.dx = 0;\n    status.dy = 0;\n    status.locked = false;\n\n    if (edges.top) {\n      modifiedY = Math.min(Math.max(outer.top + offset.top, page.y), inner.top + offset.top);\n    } else if (edges.bottom) {\n      modifiedY = Math.max(Math.min(outer.bottom - offset.bottom, page.y), inner.bottom - offset.bottom);\n    }\n    if (edges.left) {\n      modifiedX = Math.min(Math.max(outer.left + offset.left, page.x), inner.left + offset.left);\n    } else if (edges.right) {\n      modifiedX = Math.max(Math.min(outer.right - offset.right, page.x), inner.right - offset.right);\n    }\n\n    status.dx = modifiedX - page.x;\n    status.dy = modifiedY - page.y;\n\n    status.changed = status.modifiedX !== modifiedX || status.modifiedY !== modifiedY;\n    status.locked = !!(status.dx || status.dy);\n\n    status.modifiedX = modifiedX;\n    status.modifiedY = modifiedY;\n  },\n\n  modifyCoords: function modifyCoords(_ref3) {\n    var page = _ref3.page,\n        client = _ref3.client,\n        status = _ref3.status,\n        phase = _ref3.phase,\n        options = _ref3.options;\n\n    if (options && options.enabled && !(phase === 'start' && status.locked)) {\n\n      if (status.locked) {\n        page.x += status.dx;\n        page.y += status.dy;\n        client.x += status.dx;\n        client.y += status.dy;\n\n        return {\n          dx: status.dx,\n          dy: status.dy\n        };\n      }\n    }\n  },\n\n  noInner: noInner,\n  noOuter: noOuter,\n  getRestrictionRect: getRestrictionRect\n};\n\nmodifiers.restrictEdges = restrictEdges;\nmodifiers.names.push('restrictEdges');\n\ndefaultOptions.perAction.restrictEdges = restrictEdges.defaults;\nresize.defaults.restrictEdges = restrictEdges.defaults;\n\nmodule.exports = restrictEdges;\n\n},{\"../actions/resize\":10,\"../defaultOptions\":18,\"../utils\":44,\"../utils/rect\":51,\"./base\":23,\"./restrict\":24}],26:[function(require,module,exports){\n'use strict';\n\n// This module adds the options.resize.restrictSize setting which sets min and\n// max width and height for the target being resized.\n//\n// interact(target).resize({\n//   edges: { top: true, left: true },\n//   restrictSize: {\n//     min: { width: -600, height: -600 },\n//     max: { width:  600, height:  600 },\n//   },\n// });\n\nvar modifiers = require('./base');\nvar restrictEdges = require('./restrictEdges');\nvar utils = require('../utils');\nvar rectUtils = require('../utils/rect');\nvar defaultOptions = require('../defaultOptions');\nvar resize = require('../actions/resize');\n\nvar noMin = { width: -Infinity, height: -Infinity };\nvar noMax = { width: +Infinity, height: +Infinity };\n\nvar restrictSize = {\n  defaults: {\n    enabled: false,\n    endOnly: false,\n    min: null,\n    max: null\n  },\n\n  setOffset: function setOffset(_ref) {\n    var interaction = _ref.interaction;\n\n    return interaction.startOffset;\n  },\n\n  set: function set(arg) {\n    var interaction = arg.interaction,\n        options = arg.options;\n\n    var edges = interaction.prepared.linkedEdges || interaction.prepared.edges;\n\n    if (!interaction.interacting() || !edges) {\n      return;\n    }\n\n    var rect = rectUtils.xywhToTlbr(interaction.resizeRects.inverted);\n\n    var minSize = rectUtils.tlbrToXywh(restrictEdges.getRestrictionRect(options.min, interaction)) || noMin;\n    var maxSize = rectUtils.tlbrToXywh(restrictEdges.getRestrictionRect(options.max, interaction)) || noMax;\n\n    arg.options = {\n      enabled: options.enabled,\n      endOnly: options.endOnly,\n      inner: utils.extend({}, restrictEdges.noInner),\n      outer: utils.extend({}, restrictEdges.noOuter)\n    };\n\n    if (edges.top) {\n      arg.options.inner.top = rect.bottom - minSize.height;\n      arg.options.outer.top = rect.bottom - maxSize.height;\n    } else if (edges.bottom) {\n      arg.options.inner.bottom = rect.top + minSize.height;\n      arg.options.outer.bottom = rect.top + maxSize.height;\n    }\n    if (edges.left) {\n      arg.options.inner.left = rect.right - minSize.width;\n      arg.options.outer.left = rect.right - maxSize.width;\n    } else if (edges.right) {\n      arg.options.inner.right = rect.left + minSize.width;\n      arg.options.outer.right = rect.left + maxSize.width;\n    }\n\n    restrictEdges.set(arg);\n  },\n\n  modifyCoords: restrictEdges.modifyCoords\n};\n\nmodifiers.restrictSize = restrictSize;\nmodifiers.names.push('restrictSize');\n\ndefaultOptions.perAction.restrictSize = restrictSize.defaults;\nresize.defaults.restrictSize = restrictSize.defaults;\n\nmodule.exports = restrictSize;\n\n},{\"../actions/resize\":10,\"../defaultOptions\":18,\"../utils\":44,\"../utils/rect\":51,\"./base\":23,\"./restrictEdges\":25}],27:[function(require,module,exports){\n'use strict';\n\nvar modifiers = require('./base');\nvar interact = require('../interact');\nvar utils = require('../utils');\nvar defaultOptions = require('../defaultOptions');\n\nvar snap = {\n  defaults: {\n    enabled: false,\n    endOnly: false,\n    range: Infinity,\n    targets: null,\n    offsets: null,\n\n    relativePoints: null\n  },\n\n  setOffset: function setOffset(_ref) {\n    var interaction = _ref.interaction,\n        interactable = _ref.interactable,\n        element = _ref.element,\n        rect = _ref.rect,\n        startOffset = _ref.startOffset,\n        options = _ref.options;\n\n    var offsets = [];\n    var optionsOrigin = utils.rectToXY(utils.resolveRectLike(options.origin));\n    var origin = optionsOrigin || utils.getOriginXY(interactable, element, interaction.prepared.name);\n    options = options || interactable.options[interaction.prepared.name].snap || {};\n\n    var snapOffset = void 0;\n\n    if (options.offset === 'startCoords') {\n      snapOffset = {\n        x: interaction.startCoords.page.x - origin.x,\n        y: interaction.startCoords.page.y - origin.y\n      };\n    } else {\n      var offsetRect = utils.resolveRectLike(options.offset, interactable, element, [interaction]);\n\n      snapOffset = utils.rectToXY(offsetRect) || { x: 0, y: 0 };\n    }\n\n    if (rect && options.relativePoints && options.relativePoints.length) {\n      for (var _i = 0; _i < options.relativePoints.length; _i++) {\n        var _ref3;\n\n        _ref3 = options.relativePoints[_i];\n        var _ref2 = _ref3;\n        var relativeX = _ref2.x;\n        var relativeY = _ref2.y;\n\n        offsets.push({\n          x: startOffset.left - rect.width * relativeX + snapOffset.x,\n          y: startOffset.top - rect.height * relativeY + snapOffset.y\n        });\n      }\n    } else {\n      offsets.push(snapOffset);\n    }\n\n    return offsets;\n  },\n\n  set: function set(_ref4) {\n    var interaction = _ref4.interaction,\n        modifiedCoords = _ref4.modifiedCoords,\n        status = _ref4.status,\n        options = _ref4.options,\n        offsets = _ref4.offset;\n\n    var targets = [];\n    var target = void 0;\n    var page = void 0;\n    var i = void 0;\n\n    if (status.useStatusXY) {\n      page = { x: status.x, y: status.y };\n    } else {\n      var origin = utils.getOriginXY(interaction.target, interaction.element, interaction.prepared.name);\n\n      page = utils.extend({}, modifiedCoords);\n\n      page.x -= origin.x;\n      page.y -= origin.y;\n    }\n\n    status.realX = page.x;\n    status.realY = page.y;\n\n    var len = options.targets ? options.targets.length : 0;\n\n    for (var _i2 = 0; _i2 < offsets.length; _i2++) {\n      var _ref6;\n\n      _ref6 = offsets[_i2];\n      var _ref5 = _ref6;\n      var offsetX = _ref5.x;\n      var offsetY = _ref5.y;\n\n      var relativeX = page.x - offsetX;\n      var relativeY = page.y - offsetY;\n\n      for (var _i3 = 0; _i3 < (options.targets || []).length; _i3++) {\n        var _ref7;\n\n        _ref7 = (options.targets || [])[_i3];\n        var snapTarget = _ref7;\n\n        if (utils.is.function(snapTarget)) {\n          target = snapTarget(relativeX, relativeY, interaction);\n        } else {\n          target = snapTarget;\n        }\n\n        if (!target) {\n          continue;\n        }\n\n        targets.push({\n          x: utils.is.number(target.x) ? target.x + offsetX : relativeX,\n          y: utils.is.number(target.y) ? target.y + offsetY : relativeY,\n\n          range: utils.is.number(target.range) ? target.range : options.range\n        });\n      }\n    }\n\n    var closest = {\n      target: null,\n      inRange: false,\n      distance: 0,\n      range: 0,\n      dx: 0,\n      dy: 0\n    };\n\n    for (i = 0, len = targets.length; i < len; i++) {\n      target = targets[i];\n\n      var range = target.range;\n      var dx = target.x - page.x;\n      var dy = target.y - page.y;\n      var distance = utils.hypot(dx, dy);\n      var inRange = distance <= range;\n\n      // Infinite targets count as being out of range\n      // compared to non infinite ones that are in range\n      if (range === Infinity && closest.inRange && closest.range !== Infinity) {\n        inRange = false;\n      }\n\n      if (!closest.target || (inRange\n      // is the closest target in range?\n      ? closest.inRange && range !== Infinity\n      // the pointer is relatively deeper in this target\n      ? distance / range < closest.distance / closest.range\n      // this target has Infinite range and the closest doesn't\n      : range === Infinity && closest.range !== Infinity ||\n      // OR this target is closer that the previous closest\n      distance < closest.distance :\n      // The other is not in range and the pointer is closer to this target\n      !closest.inRange && distance < closest.distance)) {\n\n        closest.target = target;\n        closest.distance = distance;\n        closest.range = range;\n        closest.inRange = inRange;\n        closest.dx = dx;\n        closest.dy = dy;\n\n        status.range = range;\n      }\n    }\n\n    var snapChanged = void 0;\n\n    if (closest.target) {\n      snapChanged = status.modifiedX !== closest.target.x || status.modifiedY !== closest.target.y;\n\n      status.modifiedX = closest.target.x;\n      status.modifiedY = closest.target.y;\n    } else {\n      snapChanged = true;\n\n      status.modifiedX = NaN;\n      status.modifiedY = NaN;\n    }\n\n    status.dx = closest.dx;\n    status.dy = closest.dy;\n\n    status.changed = snapChanged || closest.inRange && !status.locked;\n    status.locked = closest.inRange;\n  },\n\n  modifyCoords: function modifyCoords(_ref8) {\n    var page = _ref8.page,\n        client = _ref8.client,\n        status = _ref8.status,\n        phase = _ref8.phase,\n        options = _ref8.options;\n\n    var relativePoints = options && options.relativePoints;\n\n    if (options && options.enabled && !(phase === 'start' && relativePoints && relativePoints.length)) {\n\n      if (status.locked) {\n        page.x += status.dx;\n        page.y += status.dy;\n        client.x += status.dx;\n        client.y += status.dy;\n      }\n\n      return {\n        range: status.range,\n        locked: status.locked,\n        x: status.modifiedX,\n        y: status.modifiedY,\n        realX: status.realX,\n        realY: status.realY,\n        dx: status.dx,\n        dy: status.dy\n      };\n    }\n  }\n};\n\ninteract.createSnapGrid = function (grid) {\n  return function (x, y) {\n    var limits = grid.limits || {\n      left: -Infinity,\n      right: Infinity,\n      top: -Infinity,\n      bottom: Infinity\n    };\n    var offsetX = 0;\n    var offsetY = 0;\n\n    if (utils.is.object(grid.offset)) {\n      offsetX = grid.offset.x;\n      offsetY = grid.offset.y;\n    }\n\n    var gridx = Math.round((x - offsetX) / grid.x);\n    var gridy = Math.round((y - offsetY) / grid.y);\n\n    var newX = Math.max(limits.left, Math.min(limits.right, gridx * grid.x + offsetX));\n    var newY = Math.max(limits.top, Math.min(limits.bottom, gridy * grid.y + offsetY));\n\n    return {\n      x: newX,\n      y: newY,\n      range: grid.range\n    };\n  };\n};\n\nmodifiers.snap = snap;\nmodifiers.names.push('snap');\n\ndefaultOptions.perAction.snap = snap.defaults;\n\nmodule.exports = snap;\n\n},{\"../defaultOptions\":18,\"../interact\":21,\"../utils\":44,\"./base\":23}],28:[function(require,module,exports){\n'use strict';\n\n// This module allows snapping of the size of targets during resize\n// interactions.\n\nvar modifiers = require('./base');\nvar snap = require('./snap');\nvar defaultOptions = require('../defaultOptions');\nvar resize = require('../actions/resize');\nvar utils = require('../utils/');\n\nvar snapSize = {\n  defaults: {\n    enabled: false,\n    endOnly: false,\n    range: Infinity,\n    targets: null,\n    offsets: null\n  },\n\n  setOffset: function setOffset(arg) {\n    var interaction = arg.interaction,\n        options = arg.options;\n\n    var edges = interaction.prepared.edges;\n\n    if (!edges) {\n      return;\n    }\n\n    arg.options = {\n      relativePoints: [{\n        x: edges.left ? 0 : 1,\n        y: edges.top ? 0 : 1\n      }],\n      origin: { x: 0, y: 0 },\n      offset: 'self',\n      range: options.range\n    };\n\n    var offsets = snap.setOffset(arg);\n    arg.options = options;\n\n    return offsets;\n  },\n\n  set: function set(arg) {\n    var interaction = arg.interaction,\n        options = arg.options,\n        offset = arg.offset,\n        modifiedCoords = arg.modifiedCoords;\n\n    var page = utils.extend({}, modifiedCoords);\n    var relativeX = page.x - offset[0].x;\n    var relativeY = page.y - offset[0].y;\n\n    arg.options = utils.extend({}, options);\n    arg.options.targets = [];\n\n    for (var _i = 0; _i < (options.targets || []).length; _i++) {\n      var _ref;\n\n      _ref = (options.targets || [])[_i];\n      var snapTarget = _ref;\n\n      var target = void 0;\n\n      if (utils.is.function(snapTarget)) {\n        target = snapTarget(relativeX, relativeY, interaction);\n      } else {\n        target = snapTarget;\n      }\n\n      if (!target) {\n        continue;\n      }\n\n      if ('width' in target && 'height' in target) {\n        target.x = target.width;\n        target.y = target.height;\n      }\n\n      arg.options.targets.push(target);\n    }\n\n    snap.set(arg);\n  },\n\n  modifyCoords: function modifyCoords(arg) {\n    var options = arg.options;\n\n\n    arg.options = utils.extend({}, options);\n    arg.options.enabled = options.enabled;\n    arg.options.relativePoints = [null];\n\n    snap.modifyCoords(arg);\n  }\n};\n\nmodifiers.snapSize = snapSize;\nmodifiers.names.push('snapSize');\n\ndefaultOptions.perAction.snapSize = snapSize.defaults;\nresize.defaults.snapSize = snapSize.defaults;\n\nmodule.exports = snapSize;\n\n},{\"../actions/resize\":10,\"../defaultOptions\":18,\"../utils/\":44,\"./base\":23,\"./snap\":27}],29:[function(require,module,exports){\n'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar pointerUtils = require('../utils/pointerUtils');\n\nmodule.exports = function () {\n  /** */\n  function PointerEvent(type, pointer, event, eventTarget, interaction) {\n    _classCallCheck(this, PointerEvent);\n\n    pointerUtils.pointerExtend(this, event);\n\n    if (event !== pointer) {\n      pointerUtils.pointerExtend(this, pointer);\n    }\n\n    this.interaction = interaction;\n\n    this.timeStamp = new Date().getTime();\n    this.originalEvent = event;\n    this.type = type;\n    this.pointerId = pointerUtils.getPointerId(pointer);\n    this.pointerType = pointerUtils.getPointerType(pointer);\n    this.target = eventTarget;\n    this.currentTarget = null;\n\n    if (type === 'tap') {\n      var pointerIndex = interaction.getPointerIndex(pointer);\n      this.dt = this.timeStamp - interaction.downTimes[pointerIndex];\n\n      var interval = this.timeStamp - interaction.tapTime;\n\n      this.double = !!(interaction.prevTap && interaction.prevTap.type !== 'doubletap' && interaction.prevTap.target === this.target && interval < 500);\n    } else if (type === 'doubletap') {\n      this.dt = pointer.timeStamp - interaction.tapTime;\n    }\n  }\n\n  PointerEvent.prototype.subtractOrigin = function subtractOrigin(_ref) {\n    var originX = _ref.x,\n        originY = _ref.y;\n\n    this.pageX -= originX;\n    this.pageY -= originY;\n    this.clientX -= originX;\n    this.clientY -= originY;\n\n    return this;\n  };\n\n  PointerEvent.prototype.addOrigin = function addOrigin(_ref2) {\n    var originX = _ref2.x,\n        originY = _ref2.y;\n\n    this.pageX += originX;\n    this.pageY += originY;\n    this.clientX += originX;\n    this.clientY += originY;\n\n    return this;\n  };\n\n  /** */\n\n\n  PointerEvent.prototype.preventDefault = function preventDefault() {\n    this.originalEvent.preventDefault();\n  };\n\n  /** */\n\n\n  PointerEvent.prototype.stopPropagation = function stopPropagation() {\n    this.propagationStopped = true;\n  };\n\n  /** */\n\n\n  PointerEvent.prototype.stopImmediatePropagation = function stopImmediatePropagation() {\n    this.immediatePropagationStopped = this.propagationStopped = true;\n  };\n\n  return PointerEvent;\n}();\n\n},{\"../utils/pointerUtils\":49}],30:[function(require,module,exports){\n'use strict';\n\nvar PointerEvent = require('./PointerEvent');\nvar Interaction = require('../Interaction');\nvar utils = require('../utils');\nvar defaults = require('../defaultOptions');\nvar signals = require('../utils/Signals').new();\n\nvar simpleSignals = ['down', 'up', 'cancel'];\nvar simpleEvents = ['down', 'up', 'cancel'];\n\nvar pointerEvents = {\n  PointerEvent: PointerEvent,\n  fire: fire,\n  collectEventTargets: collectEventTargets,\n  signals: signals,\n  defaults: {\n    holdDuration: 600,\n    ignoreFrom: null,\n    allowFrom: null,\n    origin: { x: 0, y: 0 }\n  },\n  types: ['down', 'move', 'up', 'cancel', 'tap', 'doubletap', 'hold']\n};\n\nfunction fire(arg) {\n  var interaction = arg.interaction,\n      pointer = arg.pointer,\n      event = arg.event,\n      eventTarget = arg.eventTarget,\n      _arg$type = arg.type,\n      type = _arg$type === undefined ? arg.pointerEvent.type : _arg$type,\n      _arg$targets = arg.targets,\n      targets = _arg$targets === undefined ? collectEventTargets(arg) : _arg$targets,\n      _arg$pointerEvent = arg.pointerEvent,\n      pointerEvent = _arg$pointerEvent === undefined ? new PointerEvent(type, pointer, event, eventTarget, interaction) : _arg$pointerEvent;\n\n\n  var signalArg = {\n    interaction: interaction,\n    pointer: pointer,\n    event: event,\n    eventTarget: eventTarget,\n    targets: targets,\n    type: type,\n    pointerEvent: pointerEvent\n  };\n\n  for (var i = 0; i < targets.length; i++) {\n    var target = targets[i];\n\n    for (var prop in target.props || {}) {\n      pointerEvent[prop] = target.props[prop];\n    }\n\n    var origin = utils.getOriginXY(target.eventable, target.element);\n\n    pointerEvent.subtractOrigin(origin);\n    pointerEvent.eventable = target.eventable;\n    pointerEvent.currentTarget = target.element;\n\n    target.eventable.fire(pointerEvent);\n\n    pointerEvent.addOrigin(origin);\n\n    if (pointerEvent.immediatePropagationStopped || pointerEvent.propagationStopped && i + 1 < targets.length && targets[i + 1].element !== pointerEvent.currentTarget) {\n      break;\n    }\n  }\n\n  signals.fire('fired', signalArg);\n\n  if (type === 'tap') {\n    // if pointerEvent should make a double tap, create and fire a doubletap\n    // PointerEvent and use that as the prevTap\n    var prevTap = pointerEvent.double ? fire({\n      interaction: interaction, pointer: pointer, event: event, eventTarget: eventTarget,\n      type: 'doubletap'\n    }) : pointerEvent;\n\n    interaction.prevTap = prevTap;\n    interaction.tapTime = prevTap.timeStamp;\n  }\n\n  return pointerEvent;\n}\n\nfunction collectEventTargets(_ref) {\n  var interaction = _ref.interaction,\n      pointer = _ref.pointer,\n      event = _ref.event,\n      eventTarget = _ref.eventTarget,\n      type = _ref.type;\n\n  var pointerIndex = interaction.getPointerIndex(pointer);\n\n  // do not fire a tap event if the pointer was moved before being lifted\n  if (type === 'tap' && (interaction.pointerWasMoved\n  // or if the pointerup target is different to the pointerdown target\n  || !(interaction.downTargets[pointerIndex] && interaction.downTargets[pointerIndex] === eventTarget))) {\n    return [];\n  }\n\n  var path = utils.getPath(eventTarget);\n  var signalArg = {\n    interaction: interaction,\n    pointer: pointer,\n    event: event,\n    eventTarget: eventTarget,\n    type: type,\n    path: path,\n    targets: [],\n    element: null\n  };\n\n  for (var _i = 0; _i < path.length; _i++) {\n    var _ref2;\n\n    _ref2 = path[_i];\n    var element = _ref2;\n\n    signalArg.element = element;\n\n    signals.fire('collect-targets', signalArg);\n  }\n\n  if (type === 'hold') {\n    signalArg.targets = signalArg.targets.filter(function (target) {\n      return target.eventable.options.holdDuration === interaction.holdTimers[pointerIndex].duration;\n    });\n  }\n\n  return signalArg.targets;\n}\n\nInteraction.signals.on('update-pointer-down', function (_ref3) {\n  var interaction = _ref3.interaction,\n      pointerIndex = _ref3.pointerIndex;\n\n  interaction.holdTimers[pointerIndex] = { duration: Infinity, timeout: null };\n});\n\nInteraction.signals.on('remove-pointer', function (_ref4) {\n  var interaction = _ref4.interaction,\n      pointerIndex = _ref4.pointerIndex;\n\n  interaction.holdTimers.splice(pointerIndex, 1);\n});\n\nInteraction.signals.on('move', function (_ref5) {\n  var interaction = _ref5.interaction,\n      pointer = _ref5.pointer,\n      event = _ref5.event,\n      eventTarget = _ref5.eventTarget,\n      duplicateMove = _ref5.duplicateMove;\n\n  var pointerIndex = interaction.getPointerIndex(pointer);\n\n  if (!duplicateMove && (!interaction.pointerIsDown || interaction.pointerWasMoved)) {\n    if (interaction.pointerIsDown) {\n      clearTimeout(interaction.holdTimers[pointerIndex].timeout);\n    }\n\n    fire({\n      interaction: interaction, pointer: pointer, event: event, eventTarget: eventTarget,\n      type: 'move'\n    });\n  }\n});\n\nInteraction.signals.on('down', function (_ref6) {\n  var interaction = _ref6.interaction,\n      pointer = _ref6.pointer,\n      event = _ref6.event,\n      eventTarget = _ref6.eventTarget,\n      pointerIndex = _ref6.pointerIndex;\n\n  var timer = interaction.holdTimers[pointerIndex];\n  var path = utils.getPath(eventTarget);\n  var signalArg = {\n    interaction: interaction,\n    pointer: pointer,\n    event: event,\n    eventTarget: eventTarget,\n    type: 'hold',\n    targets: [],\n    path: path,\n    element: null\n  };\n\n  for (var _i2 = 0; _i2 < path.length; _i2++) {\n    var _ref7;\n\n    _ref7 = path[_i2];\n    var element = _ref7;\n\n    signalArg.element = element;\n\n    signals.fire('collect-targets', signalArg);\n  }\n\n  if (!signalArg.targets.length) {\n    return;\n  }\n\n  var minDuration = Infinity;\n\n  for (var _i3 = 0; _i3 < signalArg.targets.length; _i3++) {\n    var _ref8;\n\n    _ref8 = signalArg.targets[_i3];\n    var target = _ref8;\n\n    var holdDuration = target.eventable.options.holdDuration;\n\n    if (holdDuration < minDuration) {\n      minDuration = holdDuration;\n    }\n  }\n\n  timer.duration = minDuration;\n  timer.timeout = setTimeout(function () {\n    fire({\n      interaction: interaction,\n      eventTarget: eventTarget,\n      pointer: pointer,\n      event: event,\n      type: 'hold'\n    });\n  }, minDuration);\n});\n\nInteraction.signals.on('up', function (_ref9) {\n  var interaction = _ref9.interaction,\n      pointer = _ref9.pointer,\n      event = _ref9.event,\n      eventTarget = _ref9.eventTarget;\n\n  if (!interaction.pointerWasMoved) {\n    fire({ interaction: interaction, eventTarget: eventTarget, pointer: pointer, event: event, type: 'tap' });\n  }\n});\n\nvar _arr = ['up', 'cancel'];\nfor (var _i4 = 0; _i4 < _arr.length; _i4++) {\n  var signalName = _arr[_i4];\n  Interaction.signals.on(signalName, function (_ref11) {\n    var interaction = _ref11.interaction,\n        pointerIndex = _ref11.pointerIndex;\n\n    if (interaction.holdTimers[pointerIndex]) {\n      clearTimeout(interaction.holdTimers[pointerIndex].timeout);\n    }\n  });\n}\n\nfunction createSignalListener(type) {\n  return function (_ref10) {\n    var interaction = _ref10.interaction,\n        pointer = _ref10.pointer,\n        event = _ref10.event,\n        eventTarget = _ref10.eventTarget;\n\n    fire({ interaction: interaction, eventTarget: eventTarget, pointer: pointer, event: event, type: type });\n  };\n}\n\nfor (var i = 0; i < simpleSignals.length; i++) {\n  Interaction.signals.on(simpleSignals[i], createSignalListener(simpleEvents[i]));\n}\n\nInteraction.signals.on('new', function (interaction) {\n  interaction.prevTap = null; // the most recent tap event on this interaction\n  interaction.tapTime = 0; // time of the most recent tap event\n  interaction.holdTimers = []; // [{ duration, timeout }]\n});\n\ndefaults.pointerEvents = pointerEvents.defaults;\nmodule.exports = pointerEvents;\n\n},{\"../Interaction\":5,\"../defaultOptions\":18,\"../utils\":44,\"../utils/Signals\":34,\"./PointerEvent\":29}],31:[function(require,module,exports){\n'use strict';\n\nvar pointerEvents = require('./base');\nvar Interaction = require('../Interaction');\n\npointerEvents.signals.on('new', onNew);\npointerEvents.signals.on('fired', onFired);\n\nvar _arr = ['move', 'up', 'cancel', 'endall'];\nfor (var _i = 0; _i < _arr.length; _i++) {\n  var signal = _arr[_i];\n  Interaction.signals.on(signal, endHoldRepeat);\n}\n\nfunction onNew(_ref) {\n  var pointerEvent = _ref.pointerEvent;\n\n  if (pointerEvent.type !== 'hold') {\n    return;\n  }\n\n  pointerEvent.count = (pointerEvent.count || 0) + 1;\n}\n\nfunction onFired(_ref2) {\n  var interaction = _ref2.interaction,\n      pointerEvent = _ref2.pointerEvent,\n      eventTarget = _ref2.eventTarget,\n      targets = _ref2.targets;\n\n  if (pointerEvent.type !== 'hold' || !targets.length) {\n    return;\n  }\n\n  // get the repeat interval from the first eventable\n  var interval = targets[0].eventable.options.holdRepeatInterval;\n\n  // don't repeat if the interval is 0 or less\n  if (interval <= 0) {\n    return;\n  }\n\n  // set a timeout to fire the holdrepeat event\n  interaction.holdIntervalHandle = setTimeout(function () {\n    pointerEvents.fire({\n      interaction: interaction,\n      eventTarget: eventTarget,\n      type: 'hold',\n      pointer: pointerEvent,\n      event: pointerEvent\n    });\n  }, interval);\n}\n\nfunction endHoldRepeat(_ref3) {\n  var interaction = _ref3.interaction;\n\n  // set the interaction's holdStopTime property\n  // to stop further holdRepeat events\n  if (interaction.holdIntervalHandle) {\n    clearInterval(interaction.holdIntervalHandle);\n    interaction.holdIntervalHandle = null;\n  }\n}\n\n// don't repeat by default\npointerEvents.defaults.holdRepeatInterval = 0;\npointerEvents.types.push('holdrepeat');\n\nmodule.exports = {\n  onNew: onNew,\n  onFired: onFired,\n  endHoldRepeat: endHoldRepeat\n};\n\n},{\"../Interaction\":5,\"./base\":30}],32:[function(require,module,exports){\n'use strict';\n\nvar pointerEvents = require('./base');\nvar Interactable = require('../Interactable');\nvar is = require('../utils/is');\nvar scope = require('../scope');\nvar extend = require('../utils/extend');\n\nvar _require = require('../utils/arr'),\n    merge = _require.merge;\n\npointerEvents.signals.on('collect-targets', function (_ref) {\n  var targets = _ref.targets,\n      element = _ref.element,\n      type = _ref.type,\n      eventTarget = _ref.eventTarget;\n\n  scope.interactables.forEachMatch(element, function (interactable) {\n    var eventable = interactable.events;\n    var options = eventable.options;\n\n    if (eventable[type] && is.element(element) && interactable.testIgnoreAllow(options, element, eventTarget)) {\n\n      targets.push({\n        element: element,\n        eventable: eventable,\n        props: { interactable: interactable }\n      });\n    }\n  });\n});\n\nInteractable.signals.on('new', function (_ref2) {\n  var interactable = _ref2.interactable;\n\n  interactable.events.getRect = function (element) {\n    return interactable.getRect(element);\n  };\n});\n\nInteractable.signals.on('set', function (_ref3) {\n  var interactable = _ref3.interactable,\n      options = _ref3.options;\n\n  extend(interactable.events.options, pointerEvents.defaults);\n  extend(interactable.events.options, options);\n});\n\nmerge(Interactable.eventTypes, pointerEvents.types);\n\nInteractable.prototype.pointerEvents = function (options) {\n  extend(this.events.options, options);\n\n  return this;\n};\n\nvar __backCompatOption = Interactable.prototype._backCompatOption;\n\nInteractable.prototype._backCompatOption = function (optionName, newValue) {\n  var ret = __backCompatOption.call(this, optionName, newValue);\n\n  if (ret === this) {\n    this.events.options[optionName] = newValue;\n  }\n\n  return ret;\n};\n\nInteractable.settingsMethods.push('pointerEvents');\n\n},{\"../Interactable\":4,\"../scope\":33,\"../utils/arr\":35,\"../utils/extend\":41,\"../utils/is\":46,\"./base\":30}],33:[function(require,module,exports){\n'use strict';\n\nvar utils = require('./utils');\nvar events = require('./utils/events');\nvar signals = require('./utils/Signals').new();\n\nvar _require = require('./utils/window'),\n    getWindow = _require.getWindow;\n\nvar scope = {\n  signals: signals,\n  events: events,\n  utils: utils,\n\n  // main document\n  document: require('./utils/domObjects').document,\n  // all documents being listened to\n  documents: [],\n\n  addDocument: function addDocument(doc, win) {\n    // do nothing if document is already known\n    if (utils.contains(scope.documents, doc)) {\n      return false;\n    }\n\n    win = win || getWindow(doc);\n\n    scope.documents.push(doc);\n    events.documents.push(doc);\n\n    // don't add an unload event for the main document\n    // so that the page may be cached in browser history\n    if (doc !== scope.document) {\n      events.add(win, 'unload', scope.onWindowUnload);\n    }\n\n    signals.fire('add-document', { doc: doc, win: win });\n  },\n\n  removeDocument: function removeDocument(doc, win) {\n    var index = scope.documents.indexOf(doc);\n\n    win = win || getWindow(doc);\n\n    events.remove(win, 'unload', scope.onWindowUnload);\n\n    scope.documents.splice(index, 1);\n    events.documents.splice(index, 1);\n\n    signals.fire('remove-document', { win: win, doc: doc });\n  },\n\n  onWindowUnload: function onWindowUnload() {\n    scope.removeDocument(this.document, this);\n  }\n};\n\nmodule.exports = scope;\n\n},{\"./utils\":44,\"./utils/Signals\":34,\"./utils/domObjects\":38,\"./utils/events\":40,\"./utils/window\":52}],34:[function(require,module,exports){\n\"use strict\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Signals = function () {\n  function Signals() {\n    _classCallCheck(this, Signals);\n\n    this.listeners = {\n      // signalName: [listeners],\n    };\n  }\n\n  Signals.prototype.on = function on(name, listener) {\n    if (!this.listeners[name]) {\n      this.listeners[name] = [listener];\n      return;\n    }\n\n    this.listeners[name].push(listener);\n  };\n\n  Signals.prototype.off = function off(name, listener) {\n    if (!this.listeners[name]) {\n      return;\n    }\n\n    var index = this.listeners[name].indexOf(listener);\n\n    if (index !== -1) {\n      this.listeners[name].splice(index, 1);\n    }\n  };\n\n  Signals.prototype.fire = function fire(name, arg) {\n    var targetListeners = this.listeners[name];\n\n    if (!targetListeners) {\n      return;\n    }\n\n    for (var _i = 0; _i < targetListeners.length; _i++) {\n      var _ref;\n\n      _ref = targetListeners[_i];\n      var listener = _ref;\n\n      if (listener(arg, name) === false) {\n        return;\n      }\n    }\n  };\n\n  return Signals;\n}();\n\nSignals.new = function () {\n  return new Signals();\n};\n\nmodule.exports = Signals;\n\n},{}],35:[function(require,module,exports){\n\"use strict\";\n\nfunction contains(array, target) {\n  return array.indexOf(target) !== -1;\n}\n\nfunction merge(target, source) {\n  for (var _i = 0; _i < source.length; _i++) {\n    var _ref;\n\n    _ref = source[_i];\n    var item = _ref;\n\n    target.push(item);\n  }\n\n  return target;\n}\n\nmodule.exports = {\n  contains: contains,\n  merge: merge\n};\n\n},{}],36:[function(require,module,exports){\n'use strict';\n\nvar _require = require('./window'),\n    window = _require.window;\n\nvar is = require('./is');\nvar domObjects = require('./domObjects');\n\nvar Element = domObjects.Element;\nvar navigator = window.navigator;\n\nvar browser = {\n  // Does the browser support touch input?\n  supportsTouch: !!('ontouchstart' in window || is.function(window.DocumentTouch) && domObjects.document instanceof window.DocumentTouch),\n\n  // Does the browser support PointerEvents\n  supportsPointerEvent: !!domObjects.PointerEvent,\n\n  isIOS: /iP(hone|od|ad)/.test(navigator.platform),\n\n  // scrolling doesn't change the result of getClientRects on iOS 7\n  isIOS7: /iP(hone|od|ad)/.test(navigator.platform) && /OS 7[^\\d]/.test(navigator.appVersion),\n\n  isIe9: /MSIE 9/.test(navigator.userAgent),\n\n  // prefix matchesSelector\n  prefixedMatchesSelector: 'matches' in Element.prototype ? 'matches' : 'webkitMatchesSelector' in Element.prototype ? 'webkitMatchesSelector' : 'mozMatchesSelector' in Element.prototype ? 'mozMatchesSelector' : 'oMatchesSelector' in Element.prototype ? 'oMatchesSelector' : 'msMatchesSelector',\n\n  pEventTypes: domObjects.PointerEvent ? domObjects.PointerEvent === window.MSPointerEvent ? {\n    up: 'MSPointerUp',\n    down: 'MSPointerDown',\n    over: 'mouseover',\n    out: 'mouseout',\n    move: 'MSPointerMove',\n    cancel: 'MSPointerCancel'\n  } : {\n    up: 'pointerup',\n    down: 'pointerdown',\n    over: 'pointerover',\n    out: 'pointerout',\n    move: 'pointermove',\n    cancel: 'pointercancel'\n  } : null,\n\n  // because Webkit and Opera still use 'mousewheel' event type\n  wheelEvent: 'onmousewheel' in domObjects.document ? 'mousewheel' : 'wheel'\n\n};\n\n// Opera Mobile must be handled differently\nbrowser.isOperaMobile = navigator.appName === 'Opera' && browser.supportsTouch && navigator.userAgent.match('Presto');\n\nmodule.exports = browser;\n\n},{\"./domObjects\":38,\"./is\":46,\"./window\":52}],37:[function(require,module,exports){\n'use strict';\n\nvar is = require('./is');\n\nmodule.exports = function clone(source) {\n  var dest = {};\n  for (var prop in source) {\n    if (is.plainObject(source[prop])) {\n      dest[prop] = clone(source[prop]);\n    } else {\n      dest[prop] = source[prop];\n    }\n  }\n  return dest;\n};\n\n},{\"./is\":46}],38:[function(require,module,exports){\n'use strict';\n\nvar domObjects = {};\nvar win = require('./window').window;\n\nfunction blank() {}\n\ndomObjects.document = win.document;\ndomObjects.DocumentFragment = win.DocumentFragment || blank;\ndomObjects.SVGElement = win.SVGElement || blank;\ndomObjects.SVGSVGElement = win.SVGSVGElement || blank;\ndomObjects.SVGElementInstance = win.SVGElementInstance || blank;\ndomObjects.Element = win.Element || blank;\ndomObjects.HTMLElement = win.HTMLElement || domObjects.Element;\n\ndomObjects.Event = win.Event;\ndomObjects.Touch = win.Touch || blank;\ndomObjects.PointerEvent = win.PointerEvent || win.MSPointerEvent;\n\nmodule.exports = domObjects;\n\n},{\"./window\":52}],39:[function(require,module,exports){\n'use strict';\n\nvar win = require('./window');\nvar browser = require('./browser');\nvar is = require('./is');\nvar domObjects = require('./domObjects');\n\nvar domUtils = {\n  nodeContains: function nodeContains(parent, child) {\n    while (child) {\n      if (child === parent) {\n        return true;\n      }\n\n      child = child.parentNode;\n    }\n\n    return false;\n  },\n\n  closest: function closest(element, selector) {\n    while (is.element(element)) {\n      if (domUtils.matchesSelector(element, selector)) {\n        return element;\n      }\n\n      element = domUtils.parentNode(element);\n    }\n\n    return null;\n  },\n\n  parentNode: function parentNode(node) {\n    var parent = node.parentNode;\n\n    if (is.docFrag(parent)) {\n      // skip past #shado-root fragments\n      while ((parent = parent.host) && is.docFrag(parent)) {\n        continue;\n      }\n\n      return parent;\n    }\n\n    return parent;\n  },\n\n  matchesSelector: function matchesSelector(element, selector) {\n    // remove /deep/ from selectors if shadowDOM polyfill is used\n    if (win.window !== win.realWindow) {\n      selector = selector.replace(/\\/deep\\//g, ' ');\n    }\n\n    return element[browser.prefixedMatchesSelector](selector);\n  },\n\n  // Test for the element that's \"above\" all other qualifiers\n  indexOfDeepestElement: function indexOfDeepestElement(elements) {\n    var deepestZoneParents = [];\n    var dropzoneParents = [];\n    var dropzone = void 0;\n    var deepestZone = elements[0];\n    var index = deepestZone ? 0 : -1;\n    var parent = void 0;\n    var child = void 0;\n    var i = void 0;\n    var n = void 0;\n\n    for (i = 1; i < elements.length; i++) {\n      dropzone = elements[i];\n\n      // an element might belong to multiple selector dropzones\n      if (!dropzone || dropzone === deepestZone) {\n        continue;\n      }\n\n      if (!deepestZone) {\n        deepestZone = dropzone;\n        index = i;\n        continue;\n      }\n\n      // check if the deepest or current are document.documentElement or document.rootElement\n      // - if the current dropzone is, do nothing and continue\n      if (dropzone.parentNode === dropzone.ownerDocument) {\n        continue;\n      }\n      // - if deepest is, update with the current dropzone and continue to next\n      else if (deepestZone.parentNode === dropzone.ownerDocument) {\n          deepestZone = dropzone;\n          index = i;\n          continue;\n        }\n\n      if (!deepestZoneParents.length) {\n        parent = deepestZone;\n        while (parent.parentNode && parent.parentNode !== parent.ownerDocument) {\n          deepestZoneParents.unshift(parent);\n          parent = parent.parentNode;\n        }\n      }\n\n      // if this element is an svg element and the current deepest is\n      // an HTMLElement\n      if (deepestZone instanceof domObjects.HTMLElement && dropzone instanceof domObjects.SVGElement && !(dropzone instanceof domObjects.SVGSVGElement)) {\n\n        if (dropzone === deepestZone.parentNode) {\n          continue;\n        }\n\n        parent = dropzone.ownerSVGElement;\n      } else {\n        parent = dropzone;\n      }\n\n      dropzoneParents = [];\n\n      while (parent.parentNode !== parent.ownerDocument) {\n        dropzoneParents.unshift(parent);\n        parent = parent.parentNode;\n      }\n\n      n = 0;\n\n      // get (position of last common ancestor) + 1\n      while (dropzoneParents[n] && dropzoneParents[n] === deepestZoneParents[n]) {\n        n++;\n      }\n\n      var parents = [dropzoneParents[n - 1], dropzoneParents[n], deepestZoneParents[n]];\n\n      child = parents[0].lastChild;\n\n      while (child) {\n        if (child === parents[1]) {\n          deepestZone = dropzone;\n          index = i;\n          deepestZoneParents = [];\n\n          break;\n        } else if (child === parents[2]) {\n          break;\n        }\n\n        child = child.previousSibling;\n      }\n    }\n\n    return index;\n  },\n\n  matchesUpTo: function matchesUpTo(element, selector, limit) {\n    while (is.element(element)) {\n      if (domUtils.matchesSelector(element, selector)) {\n        return true;\n      }\n\n      element = domUtils.parentNode(element);\n\n      if (element === limit) {\n        return domUtils.matchesSelector(element, selector);\n      }\n    }\n\n    return false;\n  },\n\n  getActualElement: function getActualElement(element) {\n    return element instanceof domObjects.SVGElementInstance ? element.correspondingUseElement : element;\n  },\n\n  getScrollXY: function getScrollXY(relevantWindow) {\n    relevantWindow = relevantWindow || win.window;\n    return {\n      x: relevantWindow.scrollX || relevantWindow.document.documentElement.scrollLeft,\n      y: relevantWindow.scrollY || relevantWindow.document.documentElement.scrollTop\n    };\n  },\n\n  getElementClientRect: function getElementClientRect(element) {\n    var clientRect = element instanceof domObjects.SVGElement ? element.getBoundingClientRect() : element.getClientRects()[0];\n\n    return clientRect && {\n      left: clientRect.left,\n      right: clientRect.right,\n      top: clientRect.top,\n      bottom: clientRect.bottom,\n      width: clientRect.width || clientRect.right - clientRect.left,\n      height: clientRect.height || clientRect.bottom - clientRect.top\n    };\n  },\n\n  getElementRect: function getElementRect(element) {\n    var clientRect = domUtils.getElementClientRect(element);\n\n    if (!browser.isIOS7 && clientRect) {\n      var scroll = domUtils.getScrollXY(win.getWindow(element));\n\n      clientRect.left += scroll.x;\n      clientRect.right += scroll.x;\n      clientRect.top += scroll.y;\n      clientRect.bottom += scroll.y;\n    }\n\n    return clientRect;\n  },\n\n  getPath: function getPath(element) {\n    var path = [];\n\n    while (element) {\n      path.push(element);\n      element = domUtils.parentNode(element);\n    }\n\n    return path;\n  },\n\n  trySelector: function trySelector(value) {\n    if (!is.string(value)) {\n      return false;\n    }\n\n    // an exception will be raised if it is invalid\n    domObjects.document.querySelector(value);\n    return true;\n  }\n};\n\nmodule.exports = domUtils;\n\n},{\"./browser\":36,\"./domObjects\":38,\"./is\":46,\"./window\":52}],40:[function(require,module,exports){\n'use strict';\n\nvar is = require('./is');\nvar domUtils = require('./domUtils');\nvar pointerUtils = require('./pointerUtils');\nvar pExtend = require('./pointerExtend');\n\nvar _require = require('./window'),\n    window = _require.window;\n\nvar _require2 = require('./arr'),\n    contains = _require2.contains;\n\nvar elements = [];\nvar targets = [];\n\n// {\n//   type: {\n//     selectors: ['selector', ...],\n//     contexts : [document, ...],\n//     listeners: [[listener, capture, passive], ...]\n//   }\n//  }\nvar delegatedEvents = {};\nvar documents = [];\n\nvar supportsOptions = function () {\n  var supported = false;\n\n  window.document.createElement('div').addEventListener('test', null, {\n    get capture() {\n      supported = true;\n    }\n  });\n\n  return supported;\n}();\n\nfunction add(element, type, listener, optionalArg) {\n  var options = getOptions(optionalArg);\n  var elementIndex = elements.indexOf(element);\n  var target = targets[elementIndex];\n\n  if (!target) {\n    target = {\n      events: {},\n      typeCount: 0\n    };\n\n    elementIndex = elements.push(element) - 1;\n    targets.push(target);\n  }\n\n  if (!target.events[type]) {\n    target.events[type] = [];\n    target.typeCount++;\n  }\n\n  if (!contains(target.events[type], listener)) {\n    element.addEventListener(type, listener, supportsOptions ? options : !!options.capture);\n    target.events[type].push(listener);\n  }\n}\n\nfunction remove(element, type, listener, optionalArg) {\n  var options = getOptions(optionalArg);\n  var elementIndex = elements.indexOf(element);\n  var target = targets[elementIndex];\n\n  if (!target || !target.events) {\n    return;\n  }\n\n  if (type === 'all') {\n    for (type in target.events) {\n      if (target.events.hasOwnProperty(type)) {\n        remove(element, type, 'all');\n      }\n    }\n    return;\n  }\n\n  if (target.events[type]) {\n    var len = target.events[type].length;\n\n    if (listener === 'all') {\n      for (var i = 0; i < len; i++) {\n        remove(element, type, target.events[type][i], options);\n      }\n      return;\n    } else {\n      for (var _i = 0; _i < len; _i++) {\n        if (target.events[type][_i] === listener) {\n          element.removeEventListener('on' + type, listener, supportsOptions ? options : !!options.capture);\n          target.events[type].splice(_i, 1);\n\n          break;\n        }\n      }\n    }\n\n    if (target.events[type] && target.events[type].length === 0) {\n      target.events[type] = null;\n      target.typeCount--;\n    }\n  }\n\n  if (!target.typeCount) {\n    targets.splice(elementIndex, 1);\n    elements.splice(elementIndex, 1);\n  }\n}\n\nfunction addDelegate(selector, context, type, listener, optionalArg) {\n  var options = getOptions(optionalArg);\n  if (!delegatedEvents[type]) {\n    delegatedEvents[type] = {\n      selectors: [],\n      contexts: [],\n      listeners: []\n    };\n\n    // add delegate listener functions\n    for (var _i2 = 0; _i2 < documents.length; _i2++) {\n      var doc = documents[_i2];\n      add(doc, type, delegateListener);\n      add(doc, type, delegateUseCapture, true);\n    }\n  }\n\n  var delegated = delegatedEvents[type];\n  var index = void 0;\n\n  for (index = delegated.selectors.length - 1; index >= 0; index--) {\n    if (delegated.selectors[index] === selector && delegated.contexts[index] === context) {\n      break;\n    }\n  }\n\n  if (index === -1) {\n    index = delegated.selectors.length;\n\n    delegated.selectors.push(selector);\n    delegated.contexts.push(context);\n    delegated.listeners.push([]);\n  }\n\n  // keep listener and capture and passive flags\n  delegated.listeners[index].push([listener, !!options.capture, options.passive]);\n}\n\nfunction removeDelegate(selector, context, type, listener, optionalArg) {\n  var options = getOptions(optionalArg);\n  var delegated = delegatedEvents[type];\n  var matchFound = false;\n  var index = void 0;\n\n  if (!delegated) {\n    return;\n  }\n\n  // count from last index of delegated to 0\n  for (index = delegated.selectors.length - 1; index >= 0; index--) {\n    // look for matching selector and context Node\n    if (delegated.selectors[index] === selector && delegated.contexts[index] === context) {\n\n      var listeners = delegated.listeners[index];\n\n      // each item of the listeners array is an array: [function, capture, passive]\n      for (var i = listeners.length - 1; i >= 0; i--) {\n        var _listeners$i = listeners[i],\n            fn = _listeners$i[0],\n            capture = _listeners$i[1],\n            passive = _listeners$i[2];\n\n        // check if the listener functions and capture and passive flags match\n\n        if (fn === listener && capture === !!options.capture && passive === options.passive) {\n          // remove the listener from the array of listeners\n          listeners.splice(i, 1);\n\n          // if all listeners for this interactable have been removed\n          // remove the interactable from the delegated arrays\n          if (!listeners.length) {\n            delegated.selectors.splice(index, 1);\n            delegated.contexts.splice(index, 1);\n            delegated.listeners.splice(index, 1);\n\n            // remove delegate function from context\n            remove(context, type, delegateListener);\n            remove(context, type, delegateUseCapture, true);\n\n            // remove the arrays if they are empty\n            if (!delegated.selectors.length) {\n              delegatedEvents[type] = null;\n            }\n          }\n\n          // only remove one listener\n          matchFound = true;\n          break;\n        }\n      }\n\n      if (matchFound) {\n        break;\n      }\n    }\n  }\n}\n\n// bound to the interactable context when a DOM event\n// listener is added to a selector interactable\nfunction delegateListener(event, optionalArg) {\n  var options = getOptions(optionalArg);\n  var fakeEvent = {};\n  var delegated = delegatedEvents[event.type];\n\n  var _pointerUtils$getEven = pointerUtils.getEventTargets(event),\n      eventTarget = _pointerUtils$getEven[0];\n\n  var element = eventTarget;\n\n  // duplicate the event so that currentTarget can be changed\n  pExtend(fakeEvent, event);\n\n  fakeEvent.originalEvent = event;\n  fakeEvent.preventDefault = preventOriginalDefault;\n\n  // climb up document tree looking for selector matches\n  while (is.element(element)) {\n    for (var i = 0; i < delegated.selectors.length; i++) {\n      var selector = delegated.selectors[i];\n      var context = delegated.contexts[i];\n\n      if (domUtils.matchesSelector(element, selector) && domUtils.nodeContains(context, eventTarget) && domUtils.nodeContains(context, element)) {\n\n        var listeners = delegated.listeners[i];\n\n        fakeEvent.currentTarget = element;\n\n        for (var j = 0; j < listeners.length; j++) {\n          var _listeners$j = listeners[j],\n              fn = _listeners$j[0],\n              capture = _listeners$j[1],\n              passive = _listeners$j[2];\n\n\n          if (capture === !!options.capture && passive === options.passive) {\n            fn(fakeEvent);\n          }\n        }\n      }\n    }\n\n    element = domUtils.parentNode(element);\n  }\n}\n\nfunction delegateUseCapture(event) {\n  return delegateListener.call(this, event, true);\n}\n\nfunction preventOriginalDefault() {\n  this.originalEvent.preventDefault();\n}\n\nfunction getOptions(param) {\n  return is.object(param) ? param : { capture: param };\n}\n\nmodule.exports = {\n  add: add,\n  remove: remove,\n\n  addDelegate: addDelegate,\n  removeDelegate: removeDelegate,\n\n  delegateListener: delegateListener,\n  delegateUseCapture: delegateUseCapture,\n  delegatedEvents: delegatedEvents,\n  documents: documents,\n\n  supportsOptions: supportsOptions,\n\n  _elements: elements,\n  _targets: targets\n};\n\n},{\"./arr\":35,\"./domUtils\":39,\"./is\":46,\"./pointerExtend\":48,\"./pointerUtils\":49,\"./window\":52}],41:[function(require,module,exports){\n\"use strict\";\n\nmodule.exports = function extend(dest, source) {\n  for (var prop in source) {\n    dest[prop] = source[prop];\n  }\n  return dest;\n};\n\n},{}],42:[function(require,module,exports){\n'use strict';\n\nvar _require = require('./rect'),\n    resolveRectLike = _require.resolveRectLike,\n    rectToXY = _require.rectToXY;\n\nmodule.exports = function (target, element, action) {\n  var actionOptions = target.options[action];\n  var actionOrigin = actionOptions && actionOptions.origin;\n  var origin = actionOrigin || target.options.origin;\n\n  var originRect = resolveRectLike(origin, target, element, [target && element]);\n\n  return rectToXY(originRect) || { x: 0, y: 0 };\n};\n\n},{\"./rect\":51}],43:[function(require,module,exports){\n\"use strict\";\n\nmodule.exports = function (x, y) {\n  return Math.sqrt(x * x + y * y);\n};\n\n},{}],44:[function(require,module,exports){\n'use strict';\n\nvar extend = require('./extend');\nvar win = require('./window');\n\nvar utils = {\n  warnOnce: function warnOnce(method, message) {\n    var warned = false;\n\n    return function () {\n      if (!warned) {\n        win.window.console.warn(message);\n        warned = true;\n      }\n\n      return method.apply(this, arguments);\n    };\n  },\n\n  // http://stackoverflow.com/a/5634528/2280888\n  _getQBezierValue: function _getQBezierValue(t, p1, p2, p3) {\n    var iT = 1 - t;\n    return iT * iT * p1 + 2 * iT * t * p2 + t * t * p3;\n  },\n\n  getQuadraticCurvePoint: function getQuadraticCurvePoint(startX, startY, cpX, cpY, endX, endY, position) {\n    return {\n      x: utils._getQBezierValue(position, startX, cpX, endX),\n      y: utils._getQBezierValue(position, startY, cpY, endY)\n    };\n  },\n\n  // http://gizma.com/easing/\n  easeOutQuad: function easeOutQuad(t, b, c, d) {\n    t /= d;\n    return -c * t * (t - 2) + b;\n  },\n\n  copyAction: function copyAction(dest, src) {\n    dest.name = src.name;\n    dest.axis = src.axis;\n    dest.edges = src.edges;\n\n    return dest;\n  },\n\n  is: require('./is'),\n  extend: extend,\n  hypot: require('./hypot'),\n  getOriginXY: require('./getOriginXY')\n};\n\nextend(utils, require('./arr'));\nextend(utils, require('./domUtils'));\nextend(utils, require('./pointerUtils'));\nextend(utils, require('./rect'));\n\nmodule.exports = utils;\n\n},{\"./arr\":35,\"./domUtils\":39,\"./extend\":41,\"./getOriginXY\":42,\"./hypot\":43,\"./is\":46,\"./pointerUtils\":49,\"./rect\":51,\"./window\":52}],45:[function(require,module,exports){\n'use strict';\n\nvar scope = require('../scope');\nvar utils = require('./index');\n\nvar finder = {\n  methodOrder: ['simulationResume', 'mouseOrPen', 'hasPointer', 'idle'],\n\n  search: function search(pointer, eventType, eventTarget) {\n    var pointerType = utils.getPointerType(pointer);\n    var pointerId = utils.getPointerId(pointer);\n    var details = { pointer: pointer, pointerId: pointerId, pointerType: pointerType, eventType: eventType, eventTarget: eventTarget };\n\n    for (var _i = 0; _i < finder.methodOrder.length; _i++) {\n      var _ref;\n\n      _ref = finder.methodOrder[_i];\n      var method = _ref;\n\n      var interaction = finder[method](details);\n\n      if (interaction) {\n        return interaction;\n      }\n    }\n  },\n\n  // try to resume simulation with a new pointer\n  simulationResume: function simulationResume(_ref2) {\n    var pointerType = _ref2.pointerType,\n        eventType = _ref2.eventType,\n        eventTarget = _ref2.eventTarget;\n\n    if (!/down|start/i.test(eventType)) {\n      return null;\n    }\n\n    for (var _i2 = 0; _i2 < scope.interactions.length; _i2++) {\n      var _ref3;\n\n      _ref3 = scope.interactions[_i2];\n      var interaction = _ref3;\n\n      var element = eventTarget;\n\n      if (interaction.simulation && interaction.simulation.allowResume && interaction.pointerType === pointerType) {\n        while (element) {\n          // if the element is the interaction element\n          if (element === interaction.element) {\n            return interaction;\n          }\n          element = utils.parentNode(element);\n        }\n      }\n    }\n\n    return null;\n  },\n\n  // if it's a mouse or pen interaction\n  mouseOrPen: function mouseOrPen(_ref4) {\n    var pointerId = _ref4.pointerId,\n        pointerType = _ref4.pointerType,\n        eventType = _ref4.eventType;\n\n    if (pointerType !== 'mouse' && pointerType !== 'pen') {\n      return null;\n    }\n\n    var firstNonActive = void 0;\n\n    for (var _i3 = 0; _i3 < scope.interactions.length; _i3++) {\n      var _ref5;\n\n      _ref5 = scope.interactions[_i3];\n      var interaction = _ref5;\n\n      if (interaction.pointerType === pointerType) {\n        // if it's a down event, skip interactions with running simulations\n        if (interaction.simulation && !utils.contains(interaction.pointerIds, pointerId)) {\n          continue;\n        }\n\n        // if the interaction is active, return it immediately\n        if (interaction.interacting()) {\n          return interaction;\n        }\n        // otherwise save it and look for another active interaction\n        else if (!firstNonActive) {\n            firstNonActive = interaction;\n          }\n      }\n    }\n\n    // if no active mouse interaction was found use the first inactive mouse\n    // interaction\n    if (firstNonActive) {\n      return firstNonActive;\n    }\n\n    // find any mouse or pen interaction.\n    // ignore the interaction if the eventType is a *down, and a simulation\n    // is active\n    for (var _i4 = 0; _i4 < scope.interactions.length; _i4++) {\n      var _ref6;\n\n      _ref6 = scope.interactions[_i4];\n      var _interaction = _ref6;\n\n      if (_interaction.pointerType === pointerType && !(/down/i.test(eventType) && _interaction.simulation)) {\n        return _interaction;\n      }\n    }\n\n    return null;\n  },\n\n  // get interaction that has this pointer\n  hasPointer: function hasPointer(_ref7) {\n    var pointerId = _ref7.pointerId;\n\n    for (var _i5 = 0; _i5 < scope.interactions.length; _i5++) {\n      var _ref8;\n\n      _ref8 = scope.interactions[_i5];\n      var interaction = _ref8;\n\n      if (utils.contains(interaction.pointerIds, pointerId)) {\n        return interaction;\n      }\n    }\n  },\n\n  // get first idle interaction with a matching pointerType\n  idle: function idle(_ref9) {\n    var pointerType = _ref9.pointerType;\n\n    for (var _i6 = 0; _i6 < scope.interactions.length; _i6++) {\n      var _ref10;\n\n      _ref10 = scope.interactions[_i6];\n      var interaction = _ref10;\n\n      // if there's already a pointer held down\n      if (interaction.pointerIds.length === 1) {\n        var target = interaction.target;\n        // don't add this pointer if there is a target interactable and it\n        // isn't gesturable\n        if (target && !target.options.gesture.enabled) {\n          continue;\n        }\n      }\n      // maximum of 2 pointers per interaction\n      else if (interaction.pointerIds.length >= 2) {\n          continue;\n        }\n\n      if (!interaction.interacting() && pointerType === interaction.pointerType) {\n        return interaction;\n      }\n    }\n\n    return null;\n  }\n};\n\nmodule.exports = finder;\n\n},{\"../scope\":33,\"./index\":44}],46:[function(require,module,exports){\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar win = require('./window');\nvar isWindow = require('./isWindow');\n\nvar is = {\n  array: function array() {},\n\n  window: function window(thing) {\n    return thing === win.window || isWindow(thing);\n  },\n\n  docFrag: function docFrag(thing) {\n    return is.object(thing) && thing.nodeType === 11;\n  },\n\n  object: function object(thing) {\n    return !!thing && (typeof thing === 'undefined' ? 'undefined' : _typeof(thing)) === 'object';\n  },\n\n  function: function _function(thing) {\n    return typeof thing === 'function';\n  },\n\n  number: function number(thing) {\n    return typeof thing === 'number';\n  },\n\n  bool: function bool(thing) {\n    return typeof thing === 'boolean';\n  },\n\n  string: function string(thing) {\n    return typeof thing === 'string';\n  },\n\n  element: function element(thing) {\n    if (!thing || (typeof thing === 'undefined' ? 'undefined' : _typeof(thing)) !== 'object') {\n      return false;\n    }\n\n    var _window = win.getWindow(thing) || win.window;\n\n    return (/object|function/.test(_typeof(_window.Element)) ? thing instanceof _window.Element //DOM2\n      : thing.nodeType === 1 && typeof thing.nodeName === 'string'\n    );\n  },\n\n  plainObject: function plainObject(thing) {\n    return is.object(thing) && thing.constructor.name === 'Object';\n  }\n};\n\nis.array = function (thing) {\n  return is.object(thing) && typeof thing.length !== 'undefined' && is.function(thing.splice);\n};\n\nmodule.exports = is;\n\n},{\"./isWindow\":47,\"./window\":52}],47:[function(require,module,exports){\n\"use strict\";\n\nmodule.exports = function (thing) {\n  return !!(thing && thing.Window) && thing instanceof thing.Window;\n};\n\n},{}],48:[function(require,module,exports){\n'use strict';\n\nfunction pointerExtend(dest, source) {\n  for (var prop in source) {\n    var prefixedPropREs = module.exports.prefixedPropREs;\n    var deprecated = false;\n\n    // skip deprecated prefixed properties\n    for (var vendor in prefixedPropREs) {\n      if (prop.indexOf(vendor) === 0 && prefixedPropREs[vendor].test(prop)) {\n        deprecated = true;\n        break;\n      }\n    }\n\n    if (!deprecated && typeof source[prop] !== 'function') {\n      dest[prop] = source[prop];\n    }\n  }\n  return dest;\n}\n\npointerExtend.prefixedPropREs = {\n  webkit: /(Movement[XY]|Radius[XY]|RotationAngle|Force)$/\n};\n\nmodule.exports = pointerExtend;\n\n},{}],49:[function(require,module,exports){\n'use strict';\n\nvar hypot = require('./hypot');\nvar browser = require('./browser');\nvar dom = require('./domObjects');\nvar domUtils = require('./domUtils');\nvar domObjects = require('./domObjects');\nvar is = require('./is');\nvar pointerExtend = require('./pointerExtend');\n\nvar pointerUtils = {\n  copyCoords: function copyCoords(dest, src) {\n    dest.page = dest.page || {};\n    dest.page.x = src.page.x;\n    dest.page.y = src.page.y;\n\n    dest.client = dest.client || {};\n    dest.client.x = src.client.x;\n    dest.client.y = src.client.y;\n\n    dest.timeStamp = src.timeStamp;\n  },\n\n  setCoordDeltas: function setCoordDeltas(targetObj, prev, cur) {\n    targetObj.page.x = cur.page.x - prev.page.x;\n    targetObj.page.y = cur.page.y - prev.page.y;\n    targetObj.client.x = cur.client.x - prev.client.x;\n    targetObj.client.y = cur.client.y - prev.client.y;\n    targetObj.timeStamp = cur.timeStamp - prev.timeStamp;\n\n    // set pointer velocity\n    var dt = Math.max(targetObj.timeStamp / 1000, 0.001);\n\n    targetObj.page.speed = hypot(targetObj.page.x, targetObj.page.y) / dt;\n    targetObj.page.vx = targetObj.page.x / dt;\n    targetObj.page.vy = targetObj.page.y / dt;\n\n    targetObj.client.speed = hypot(targetObj.client.x, targetObj.page.y) / dt;\n    targetObj.client.vx = targetObj.client.x / dt;\n    targetObj.client.vy = targetObj.client.y / dt;\n  },\n\n  isNativePointer: function isNativePointer(pointer) {\n    return pointer instanceof dom.Event || pointer instanceof dom.Touch;\n  },\n\n  // Get specified X/Y coords for mouse or event.touches[0]\n  getXY: function getXY(type, pointer, xy) {\n    xy = xy || {};\n    type = type || 'page';\n\n    xy.x = pointer[type + 'X'];\n    xy.y = pointer[type + 'Y'];\n\n    return xy;\n  },\n\n  getPageXY: function getPageXY(pointer, page) {\n    page = page || {};\n\n    // Opera Mobile handles the viewport and scrolling oddly\n    if (browser.isOperaMobile && pointerUtils.isNativePointer(pointer)) {\n      pointerUtils.getXY('screen', pointer, page);\n\n      page.x += window.scrollX;\n      page.y += window.scrollY;\n    } else {\n      pointerUtils.getXY('page', pointer, page);\n    }\n\n    return page;\n  },\n\n  getClientXY: function getClientXY(pointer, client) {\n    client = client || {};\n\n    if (browser.isOperaMobile && pointerUtils.isNativePointer(pointer)) {\n      // Opera Mobile handles the viewport and scrolling oddly\n      pointerUtils.getXY('screen', pointer, client);\n    } else {\n      pointerUtils.getXY('client', pointer, client);\n    }\n\n    return client;\n  },\n\n  getPointerId: function getPointerId(pointer) {\n    return is.number(pointer.pointerId) ? pointer.pointerId : pointer.identifier;\n  },\n\n  setCoords: function setCoords(targetObj, pointers, timeStamp) {\n    var pointer = pointers.length > 1 ? pointerUtils.pointerAverage(pointers) : pointers[0];\n\n    var tmpXY = {};\n\n    pointerUtils.getPageXY(pointer, tmpXY);\n    targetObj.page.x = tmpXY.x;\n    targetObj.page.y = tmpXY.y;\n\n    pointerUtils.getClientXY(pointer, tmpXY);\n    targetObj.client.x = tmpXY.x;\n    targetObj.client.y = tmpXY.y;\n\n    targetObj.timeStamp = is.number(timeStamp) ? timeStamp : new Date().getTime();\n  },\n\n  pointerExtend: pointerExtend,\n\n  getTouchPair: function getTouchPair(event) {\n    var touches = [];\n\n    // array of touches is supplied\n    if (is.array(event)) {\n      touches[0] = event[0];\n      touches[1] = event[1];\n    }\n    // an event\n    else {\n        if (event.type === 'touchend') {\n          if (event.touches.length === 1) {\n            touches[0] = event.touches[0];\n            touches[1] = event.changedTouches[0];\n          } else if (event.touches.length === 0) {\n            touches[0] = event.changedTouches[0];\n            touches[1] = event.changedTouches[1];\n          }\n        } else {\n          touches[0] = event.touches[0];\n          touches[1] = event.touches[1];\n        }\n      }\n\n    return touches;\n  },\n\n  pointerAverage: function pointerAverage(pointers) {\n    var average = {\n      pageX: 0,\n      pageY: 0,\n      clientX: 0,\n      clientY: 0,\n      screenX: 0,\n      screenY: 0\n    };\n\n    for (var _i = 0; _i < pointers.length; _i++) {\n      var _ref;\n\n      _ref = pointers[_i];\n      var pointer = _ref;\n\n      for (var _prop in average) {\n        average[_prop] += pointer[_prop];\n      }\n    }\n    for (var prop in average) {\n      average[prop] /= pointers.length;\n    }\n\n    return average;\n  },\n\n  touchBBox: function touchBBox(event) {\n    if (!event.length && !(event.touches && event.touches.length > 1)) {\n      return;\n    }\n\n    var touches = pointerUtils.getTouchPair(event);\n    var minX = Math.min(touches[0].pageX, touches[1].pageX);\n    var minY = Math.min(touches[0].pageY, touches[1].pageY);\n    var maxX = Math.max(touches[0].pageX, touches[1].pageX);\n    var maxY = Math.max(touches[0].pageY, touches[1].pageY);\n\n    return {\n      x: minX,\n      y: minY,\n      left: minX,\n      top: minY,\n      width: maxX - minX,\n      height: maxY - minY\n    };\n  },\n\n  touchDistance: function touchDistance(event, deltaSource) {\n    var sourceX = deltaSource + 'X';\n    var sourceY = deltaSource + 'Y';\n    var touches = pointerUtils.getTouchPair(event);\n\n    var dx = touches[0][sourceX] - touches[1][sourceX];\n    var dy = touches[0][sourceY] - touches[1][sourceY];\n\n    return hypot(dx, dy);\n  },\n\n  touchAngle: function touchAngle(event, prevAngle, deltaSource) {\n    var sourceX = deltaSource + 'X';\n    var sourceY = deltaSource + 'Y';\n    var touches = pointerUtils.getTouchPair(event);\n    var dx = touches[1][sourceX] - touches[0][sourceX];\n    var dy = touches[1][sourceY] - touches[0][sourceY];\n    var angle = 180 * Math.atan2(dy, dx) / Math.PI;\n\n    return angle;\n  },\n\n  getPointerType: function getPointerType(pointer) {\n    return is.string(pointer.pointerType) ? pointer.pointerType : is.number(pointer.pointerType) ? [undefined, undefined, 'touch', 'pen', 'mouse'][pointer.pointerType]\n    // if the PointerEvent API isn't available, then the \"pointer\" must\n    // be either a MouseEvent, TouchEvent, or Touch object\n    : /touch/.test(pointer.type) || pointer instanceof domObjects.Touch ? 'touch' : 'mouse';\n  },\n\n  // [ event.target, event.currentTarget ]\n  getEventTargets: function getEventTargets(event) {\n    var path = is.function(event.composedPath) ? event.composedPath() : event.path;\n\n    return [domUtils.getActualElement(path ? path[0] : event.target), domUtils.getActualElement(event.currentTarget)];\n  }\n};\n\nmodule.exports = pointerUtils;\n\n},{\"./browser\":36,\"./domObjects\":38,\"./domUtils\":39,\"./hypot\":43,\"./is\":46,\"./pointerExtend\":48}],50:[function(require,module,exports){\n'use strict';\n\nvar _require = require('./window'),\n    window = _require.window;\n\nvar vendors = ['ms', 'moz', 'webkit', 'o'];\nvar lastTime = 0;\nvar request = void 0;\nvar cancel = void 0;\n\nfor (var x = 0; x < vendors.length && !window.requestAnimationFrame; x++) {\n  request = window[vendors[x] + 'RequestAnimationFrame'];\n  cancel = window[vendors[x] + 'CancelAnimationFrame'] || window[vendors[x] + 'CancelRequestAnimationFrame'];\n}\n\nif (!request) {\n  request = function request(callback) {\n    var currTime = new Date().getTime();\n    var timeToCall = Math.max(0, 16 - (currTime - lastTime));\n    var id = setTimeout(function () {\n      callback(currTime + timeToCall);\n    }, timeToCall);\n\n    lastTime = currTime + timeToCall;\n    return id;\n  };\n}\n\nif (!cancel) {\n  cancel = function cancel(id) {\n    clearTimeout(id);\n  };\n}\n\nmodule.exports = {\n  request: request,\n  cancel: cancel\n};\n\n},{\"./window\":52}],51:[function(require,module,exports){\n'use strict';\n\nvar extend = require('./extend');\nvar is = require('./is');\n\nvar _require = require('./domUtils'),\n    closest = _require.closest,\n    parentNode = _require.parentNode,\n    getElementRect = _require.getElementRect;\n\nvar rectUtils = {\n  getStringOptionResult: function getStringOptionResult(value, interactable, element) {\n    if (!is.string(value)) {\n      return null;\n    }\n\n    if (value === 'parent') {\n      value = parentNode(element);\n    } else if (value === 'self') {\n      value = interactable.getRect(element);\n    } else {\n      value = closest(element, value);\n    }\n\n    return value;\n  },\n\n  resolveRectLike: function resolveRectLike(value, interactable, element, functionArgs) {\n    value = rectUtils.getStringOptionResult(value, interactable, element) || value;\n\n    if (is.function(value)) {\n      value = value.apply(null, functionArgs);\n    }\n\n    if (is.element(value)) {\n      value = getElementRect(value);\n    }\n\n    return value;\n  },\n\n  rectToXY: function rectToXY(rect) {\n    return rect && {\n      x: 'x' in rect ? rect.x : rect.left,\n      y: 'y' in rect ? rect.y : rect.top\n    };\n  },\n\n  xywhToTlbr: function xywhToTlbr(rect) {\n    if (rect && !('left' in rect && 'top' in rect)) {\n      rect = extend({}, rect);\n\n      rect.left = rect.x || 0;\n      rect.top = rect.y || 0;\n      rect.right = rect.right || rect.left + rect.width;\n      rect.bottom = rect.bottom || rect.top + rect.height;\n    }\n\n    return rect;\n  },\n\n  tlbrToXywh: function tlbrToXywh(rect) {\n    if (rect && !('x' in rect && 'y' in rect)) {\n      rect = extend({}, rect);\n\n      rect.x = rect.left || 0;\n      rect.top = rect.top || 0;\n      rect.width = rect.width || rect.right - rect.x;\n      rect.height = rect.height || rect.bottom - rect.y;\n    }\n\n    return rect;\n  }\n};\n\nmodule.exports = rectUtils;\n\n},{\"./domUtils\":39,\"./extend\":41,\"./is\":46}],52:[function(require,module,exports){\n'use strict';\n\nvar win = module.exports;\nvar isWindow = require('./isWindow');\n\nfunction init(window) {\n  // get wrapped window if using Shadow DOM polyfill\n\n  win.realWindow = window;\n\n  // create a TextNode\n  var el = window.document.createTextNode('');\n\n  // check if it's wrapped by a polyfill\n  if (el.ownerDocument !== window.document && typeof window.wrap === 'function' && window.wrap(el) === el) {\n    // use wrapped window\n    window = window.wrap(window);\n  }\n\n  win.window = window;\n}\n\nif (typeof window === 'undefined') {\n  win.window = undefined;\n  win.realWindow = undefined;\n} else {\n  init(window);\n}\n\nwin.getWindow = function getWindow(node) {\n  if (isWindow(node)) {\n    return node;\n  }\n\n  var rootNode = node.ownerDocument || node;\n\n  return rootNode.defaultView || rootNode.parentWindow || win.window;\n};\n\nwin.init = init;\n\n},{\"./isWindow\":47}]},{},[1])(1)\n});\n\n\n\n"],"file":"interact.js"}